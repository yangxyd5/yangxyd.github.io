<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">










<meta name="description" content="变量变量名，又称作标识符，只能以字母、下划线_ 、美元符号 $ 开头，后续的字符也可以是数字。 javascript 声明变量有三种方式：var、let、const。 var      // 声明一个局部作用域或全局作用域的变量，可赋一个初始值，没有赋初始值则其值为 undefinedlet      // 声明一个块级作用域变量，可赋值一个初始值，没有赋初始值则其值为 undefinedcons">
<meta property="og:type" content="article">
<meta property="og:title" content="Javascript学习笔记">
<meta property="og:url" content="https://yangjinheng.github.io/2017/11/20/web/javascript/index.html">
<meta property="og:site_name" content="默默">
<meta property="og:description" content="变量变量名，又称作标识符，只能以字母、下划线_ 、美元符号 $ 开头，后续的字符也可以是数字。 javascript 声明变量有三种方式：var、let、const。 var      // 声明一个局部作用域或全局作用域的变量，可赋一个初始值，没有赋初始值则其值为 undefinedlet      // 声明一个块级作用域变量，可赋值一个初始值，没有赋初始值则其值为 undefinedcons">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2019-11-20T15:22:22.541Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Javascript学习笔记">
<meta name="twitter:description" content="变量变量名，又称作标识符，只能以字母、下划线_ 、美元符号 $ 开头，后续的字符也可以是数字。 javascript 声明变量有三种方式：var、let、const。 var      // 声明一个局部作用域或全局作用域的变量，可赋一个初始值，没有赋初始值则其值为 undefinedlet      // 声明一个块级作用域变量，可赋值一个初始值，没有赋初始值则其值为 undefinedcons">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://yangjinheng.github.io/2017/11/20/web/javascript/">





  <title>Javascript学习笔记 | 默默</title>
  





  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?be46574a10a6c2b7f67e9c32a008cbd5";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">默默</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-前端知识">
          <a href="/categories/web/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-asterisk"></i> <br>
            
            前端知识
          </a>
        </li>
      
        
        <li class="menu-item menu-item-kubernetes">
          <a href="/categories/Kubernetes/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-cog"></i> <br>
            
            Kubernetes
          </a>
        </li>
      
        
        <li class="menu-item menu-item-运维笔记">
          <a href="/categories/运维笔记/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-sitemap"></i> <br>
            
            运维笔记
          </a>
        </li>
      
        
        <li class="menu-item menu-item-python">
          <a href="/categories/Python/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-laptop"></i> <br>
            
            Python
          </a>
        </li>
      
        
        <li class="menu-item menu-item-golang">
          <a href="/categories/golang/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-heartbeat"></i> <br>
            
            Golang
          </a>
        </li>
      
        
        <li class="menu-item menu-item-个人日志">
          <a href="/categories/个人日志/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-github-alt"></i> <br>
            
            个人日志
          </a>
        </li>
      
        
        <li class="menu-item menu-item-guestbook">
          <a href="/guestbook" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br>
            
            给我留言
          </a>
        </li>
      

      
    </ul>
  

  
</nav>


 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://yangjinheng.github.io/2017/11/20/web/javascript/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jin Heng">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="默默">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">Javascript学习笔记</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-11-20T00:00:00+08:00">
                2017-11-20
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/web/" itemprop="url" rel="index">
                    <span itemprop="name">web</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h1><p>变量名，又称作标识符，只能以字母、下划线<code>_</code> 、美元符号 <code>$</code> 开头，后续的字符也可以是数字。</p>
<p><code>javascript</code> 声明变量有三种方式：<code>var</code>、<code>let</code>、<code>const</code>。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span>      <span class="comment">// 声明一个局部作用域或全局作用域的变量，可赋一个初始值，没有赋初始值则其值为 undefined</span></span><br><span class="line"><span class="keyword">let</span>      <span class="comment">// 声明一个块级作用域变量，可赋值一个初始值，没有赋初始值则其值为 undefined</span></span><br><span class="line"><span class="keyword">const</span>    <span class="comment">// 声明一个块作用域的只读命名常量，必须同时为其赋值</span></span><br></pre></td></tr></table></figure>
<ul>
<li>声明一个变量</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> a;</span><br></pre></td></tr></table></figure>
<ul>
<li>声明一个块级变量</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="keyword">let</span> b;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>声明一个变量并赋初始值</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">let</span> b = <span class="number">2</span>;</span><br></pre></td></tr></table></figure>
<ul>
<li>声明一个常量</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> c =<span class="number">3</span>;</span><br></pre></td></tr></table></figure>
<h2 id="声明提升"><a href="#声明提升" class="headerlink" title="声明提升"></a>声明提升</h2><p>变量没有被声明而直接使用时，会报错。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">console.log(a);</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">ReferenceError</span>: a is not defined</span><br></pre></td></tr></table></figure>
<p>而 <code>javascript</code> 脚本执行前会被预解析，所有的 <code>var</code> 声明的标识符会被提升，就像写在脚本的头部**，但不会被赋值，所以返回 <code>undefined</code>。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(a);</span><br><span class="line"><span class="keyword">var</span> a = <span class="number">1</span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="literal">undefined</span></span><br></pre></td></tr></table></figure>
<ul>
<li><code>let</code> 命令声明的变量无法被提升</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(a);</span><br><span class="line"><span class="keyword">let</span> a = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">const</span> a = <span class="number">1</span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">ReferenceError</span>: a is not defined</span><br><span class="line"><span class="built_in">ReferenceError</span>: a is not defined</span><br></pre></td></tr></table></figure>
<h2 id="解构"><a href="#解构" class="headerlink" title="解构"></a>解构</h2><ul>
<li>数组解构</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> [a,b,c] = [<span class="string">"白板"</span>,<span class="string">"幺鸡"</span>,<span class="string">"二条"</span>,<span class="string">"三丙"</span>,<span class="string">"四间"</span>];</span><br><span class="line"><span class="built_in">console</span>.log(a);</span><br><span class="line"><span class="built_in">console</span>.log(b);</span><br><span class="line"><span class="built_in">console</span>.log(c);</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">白板</span><br><span class="line">幺鸡</span><br><span class="line">二条</span><br></pre></td></tr></table></figure>
<ul>
<li>对象解构</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> &#123;name,age&#125; = &#123;<span class="attr">name</span>:<span class="string">"金恒"</span>,<span class="attr">age</span>:<span class="number">30</span>&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(name);</span><br><span class="line"><span class="built_in">console</span>.log(age);</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">金恒</span><br><span class="line"><span class="number">30</span></span><br></pre></td></tr></table></figure>
<ul>
<li>K/V对解构，冒号右边的才会真正被赋值，相当于起了别名</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    name: <span class="string">"jinheng"</span>,</span><br><span class="line">    age: <span class="number">30</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> &#123;<span class="attr">name</span>:xingming,<span class="attr">age</span>:nianling&#125; = obj;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(xingming,nianling);</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">jinheng <span class="number">30</span></span><br></pre></td></tr></table></figure>
<ul>
<li>参数解构</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">func</span>(<span class="params">&#123;shuxue,yuwen,yingyu&#125;</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(shuxue,yuwen,yingyu);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    shuxue:<span class="number">80</span>,</span><br><span class="line">    yuwen:<span class="number">90</span>,</span><br><span class="line">    yingyu:<span class="number">100</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func(obj);</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="number">80</span> <span class="number">90</span> <span class="number">100</span></span><br></pre></td></tr></table></figure>
<ul>
<li>字符串解构</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> [a,b,c] = <span class="string">"hello"</span>;</span><br><span class="line"><span class="built_in">console</span>.log(a)</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">h</span><br></pre></td></tr></table></figure>
<h2 id="小题目"><a href="#小题目" class="headerlink" title="小题目"></a>小题目</h2><ul>
<li>在执行代码前有词法分析的过程，这个题目可以直接了解到一些机制</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">func</span>(<span class="params">age</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(age);</span><br><span class="line">    <span class="keyword">var</span> age = <span class="number">27</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(age);</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">age</span>(<span class="params"></span>)</span>&#123;&#125;</span><br><span class="line">    <span class="built_in">console</span>.log(age);</span><br><span class="line">&#125;</span><br><span class="line">func(<span class="number">20</span>);</span><br></pre></td></tr></table></figure>
<ul>
<li>结果是</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">ƒ age()&#123;&#125;</span><br><span class="line"><span class="number">27</span></span><br><span class="line"><span class="number">27</span></span><br></pre></td></tr></table></figure>
<h1 id="作用域"><a href="#作用域" class="headerlink" title="作用域"></a>作用域</h1><h2 id="全局作用域"><a href="#全局作用域" class="headerlink" title="全局作用域"></a>全局作用域</h2><p>在所有函数之外声明的变量，叫做全局变量，var 在所有函数外声明的变量实际上是 <code>window</code> 对象的属性，所以全局的变量可以用 <code>window.variable</code> 的语法访问，而 <code>let</code>、<code>const</code> 定义的变量则不会。</p>
<ul>
<li>处于所有函数外的变量称为全局变量</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">let</span> b = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">func</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(a);</span><br><span class="line">    <span class="built_in">console</span>.log(b);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func();</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td></tr></table></figure>
<ul>
<li><code>let</code> 和 <code>const</code> 定义的变量不会成为 <code>window</code> 对象的属性</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        <span class="keyword">var</span> a = <span class="number">100</span>;</span><br><span class="line">        <span class="keyword">let</span> b = <span class="number">200</span>;</span><br><span class="line">        <span class="keyword">const</span> c = <span class="number">300</span>;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">window</span>.a);</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">window</span>.b);</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">window</span>.c);</span><br><span class="line">    &lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>body&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="number">100</span></span><br><span class="line"><span class="literal">undefined</span></span><br><span class="line"><span class="literal">undefined</span></span><br></pre></td></tr></table></figure>
<h2 id="局部作用域"><a href="#局部作用域" class="headerlink" title="局部作用域"></a>局部作用域</h2><p>一个变量如果定义在一个 <code>function</code> 内，那么这个变量就是一个局部变量，变量只在 <code>function</code> 内有效，出了 <code>function</code> 就如同没有定义。</p>
<ul>
<li>函数内部的变量处于局部作用域，不能被外部访问</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">func</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> b = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line">func();</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(a);</span><br><span class="line"><span class="built_in">console</span>.log(b);</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="number">1</span></span><br><span class="line">b is not defined</span><br></pre></td></tr></table></figure>
<h2 id="块级作用域"><a href="#块级作用域" class="headerlink" title="块级作用域"></a>块级作用域</h2><p>ES6 新增了 <code>let</code> 命令，用来声明变量。它的用法类似于 <code>var</code>，但是所声明的变量，只在 <code>let</code> 命令所在的代码块内有效。</p>
<ul>
<li>什么是语句块？</li>
</ul>
<p>语句块由一对大括号和内部的语句组成，括号内就是一个语句块</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">   statement_1;</span><br><span class="line">   statement_3;</span><br><span class="line">   ...</span><br><span class="line">   statement_n;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><code>let</code> 命令的声明只在所在代码块有效</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="keyword">var</span> a = <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">let</span> b = <span class="number">10</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(a);</span><br><span class="line"><span class="built_in">console</span>.log(b);</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="number">1</span></span><br><span class="line">b is not defined</span><br></pre></td></tr></table></figure>
<h2 id="非声明的变量"><a href="#非声明的变量" class="headerlink" title="非声明的变量"></a>非声明的变量</h2><p>声明变量的作用域限制在其声明位置的上下文中，而<strong>非声明变量总是全局的</strong>，整个网页处于全局对象 <code>window</code> 中，而全局变量实际上是 <code>window</code> 对象的属性，所以全局的变量可以用 <code>window.variable</code> 的语法访问。</p>
<ul>
<li>不通过声明直接赋值，则处于全局对象中</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> x = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">func</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> x = <span class="number">1</span>;            <span class="comment">// x 在函数内部使用 var 声明</span></span><br><span class="line">    y = <span class="number">1</span>;                <span class="comment">// y 由于没有使用声明，所以会处于全局（window 对象的属性）</span></span><br><span class="line">    <span class="built_in">console</span>.log(x, y);</span><br><span class="line">&#125;</span><br><span class="line">func();</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(x, y);        <span class="comment">// 函数内部的非声明变量也处于全局</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="number">0</span> <span class="number">1</span></span><br></pre></td></tr></table></figure>
<h2 id="for-循环作用域"><a href="#for-循环作用域" class="headerlink" title="for 循环作用域"></a>for 循环作用域</h2><p><code>let</code> 命令声明的变量适合 <code>for</code> 循环变量区的计数器，块级作用域不能在外部访问。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">1</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(i)</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(i)</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="number">4</span></span><br><span class="line"><span class="number">5</span></span><br><span class="line"><span class="number">6</span></span><br><span class="line"><span class="number">7</span></span><br><span class="line"><span class="number">8</span></span><br><span class="line"><span class="number">9</span></span><br><span class="line">i is not defined</span><br></pre></td></tr></table></figure>
<ul>
<li><code>for</code> 循环变量区域与循环体是不同的作用域</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">let</span> i = <span class="string">'abc'</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(i);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">abc</span><br><span class="line">abc</span><br><span class="line">abc</span><br><span class="line">abc</span><br><span class="line">abc</span><br></pre></td></tr></table></figure>
<blockquote>
<p>  循环变量区域的 i 不受循环体内 i 的影响，所以它们是不同的作用域。</p>
</blockquote>
<h1 id="异常与处理"><a href="#异常与处理" class="headerlink" title="异常与处理"></a>异常与处理</h1><h2 id="抛出异常"><a href="#抛出异常" class="headerlink" title="抛出异常"></a>抛出异常</h2><p>你可以用 <code>throw</code> 语句抛出一个异常并且用 <code>try...catch</code> 语句捕获处理它。 </p>
<ul>
<li>抛出异常</li>
</ul>
<p>使用<code>throw</code>语句抛出一个异常。当你抛出异常，你规定一个含有值的表达式要被抛出。 </p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">throw</span> expression;</span><br></pre></td></tr></table></figure>
<p>你可以抛出任意表达式而不是特定一种类型的表达式。下面的代码抛出了几个不同类型的表达式： </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">throw &quot;Error2&quot;;   // String type</span><br><span class="line">throw 42;         // Number type</span><br><span class="line">throw true;       // Boolean type</span><br><span class="line">throw &#123;toString: function() &#123; return &quot;I&apos;m an object!&quot;; &#125; &#125;;</span><br></pre></td></tr></table></figure>
<h2 id="尝试处理"><a href="#尝试处理" class="headerlink" title="尝试处理"></a>尝试处理</h2><p><code>try...catch</code> 语句标记一块待尝试的语句，并规定一个以上的响应应该有一个异常被抛出。如果我们抛出一个异常，<code>try...catch</code>语句就捕获它。 你可以使用<code>catch</code>块来处理所有可能在<code>try</code>块中产生的异常。 <code>finally</code>块无论是否抛出异常都会执行。 </p>
<ul>
<li>try…catch</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">throw</span> <span class="string">"bogus"</span>;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>; <span class="comment">// this return statement is suspended</span></span><br><span class="line">        <span class="comment">// until finally block has completed</span></span><br><span class="line">        <span class="built_in">console</span>.log(<span class="number">2</span>); <span class="comment">// not reachable</span></span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="number">3</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>; <span class="comment">// overwrites the previous "return"</span></span><br><span class="line">        <span class="built_in">console</span>.log(<span class="number">4</span>); <span class="comment">// not reachable</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// "return false" is executed now  </span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">5</span>); <span class="comment">// not reachable</span></span><br><span class="line">&#125;</span><br><span class="line">f(); <span class="comment">// console 0, 1, 3; returns false</span></span><br></pre></td></tr></table></figure>
<h1 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h1><p>JavaScript 是一种动态类型语言，这意味着你声明变量时可以不必指定数据类型，而数据类型会在脚本执行时根据需要自动转换，JavaScript 语言可以识别下面 7 种不同类型的值：</p>
<h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><table>
<thead>
<tr>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>Boolean</td>
<td>布尔值 <code>true</code> 和 <code>false</code></td>
</tr>
<tr>
<td>null</td>
<td>一个表明 null 值的特殊关键字。 JavaScript 是大小写敏感的，因此 null 与 Null、NULL 或其他变量完全不同。</td>
</tr>
<tr>
<td>undefined</td>
<td>变量未定义时的属性。</td>
</tr>
<tr>
<td>Number</td>
<td>表示数字，例如： 42 或者 3.14159， 在 JavaScript 里面，数字均为双精度浮点类型</td>
</tr>
<tr>
<td>String</td>
<td>表示字符串，例如：”Howdy”</td>
</tr>
<tr>
<td>Symbol</td>
<td>在 ECMAScript 6 中新添加的类型)，一种数据类型，它的实例是唯一且不可改变的。</td>
</tr>
<tr>
<td>Object</td>
<td>对象， 你可以将对象视为存放值的命名容器</td>
</tr>
</tbody>
</table>
<h2 id="布尔值"><a href="#布尔值" class="headerlink" title="布尔值"></a>布尔值</h2><ul>
<li>等效 False 的值</li>
</ul>
<table>
<thead>
<tr>
<th>False</th>
<th>False</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>false</code></td>
<td>假</td>
</tr>
<tr>
<td><code>undefined</code></td>
<td>未定义</td>
</tr>
<tr>
<td><code>null</code></td>
<td>空</td>
</tr>
<tr>
<td><code>0</code></td>
<td>数字0</td>
</tr>
<tr>
<td><code>NaN</code></td>
<td>特殊的非数字值</td>
</tr>
<tr>
<td><code>&quot;&quot;</code></td>
<td>空字符串</td>
</tr>
</tbody>
</table>
<h2 id="数字"><a href="#数字" class="headerlink" title="数字"></a>数字</h2><ul>
<li>二进制</li>
</ul>
<p>二进制数字语法是以零为开头，后面接一个小写或大写的拉丁文字母B(0b或者是0B) </p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">0b10000000000000000000000000000000</span>;    <span class="comment">// 2147483648</span></span><br></pre></td></tr></table></figure>
<ul>
<li>八进制</li>
</ul>
<p>八进制数字语法是以0为开头的。假如0后面的数字不在0到7的范围内，该数字将会被转换成十进制数字。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> n = <span class="number">0755</span>; <span class="comment">// 493</span></span><br><span class="line"><span class="keyword">var</span> m = <span class="number">0644</span>; <span class="comment">// 420</span></span><br></pre></td></tr></table></figure>
<ul>
<li>十六进制数字</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">0xFFFFFFFFFFFFFFFFF</span></span><br></pre></td></tr></table></figure>
<ul>
<li>指数型数字</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">1E3</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="number">0.1e2</span></span><br></pre></td></tr></table></figure>
<h3 id="数字常量"><a href="#数字常量" class="headerlink" title="数字常量"></a>数字常量</h3><p>内置的Number对象有一些有关数字的常量属性，如最大值、不是一个数字和无穷大的。你不能改变这些属性，但可以按下边的方式使用它们：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> biggestNum = <span class="built_in">Number</span>.MAX_VALUE;</span><br><span class="line"><span class="keyword">var</span> smallestNum = <span class="built_in">Number</span>.MIN_VALUE;</span><br><span class="line"><span class="keyword">var</span> infiniteNum = <span class="built_in">Number</span>.POSITIVE_INFINITY;</span><br><span class="line"><span class="keyword">var</span> negInfiniteNum = <span class="built_in">Number</span>.NEGATIVE_INFINITY;</span><br><span class="line"><span class="keyword">var</span> notANum = <span class="built_in">Number</span>.NaN;</span><br></pre></td></tr></table></figure>
<p>你永远只用从Number对象引用上边显示的属性，而不是你自己创建的Number对象的属性。 </p>
<table>
<thead>
<tr>
<th>属性</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Number.MAX_VALUE</code></td>
<td>可表示的最大值</td>
</tr>
<tr>
<td><code>Number.MIN_VALUE</code></td>
<td>可表示的最小值</td>
</tr>
<tr>
<td><code>Number.NaN</code></td>
<td>特指”非数字“</td>
</tr>
<tr>
<td><code>Number.NEGATIVE_INFINITY</code></td>
<td>特指“负无穷”;在溢出时返回</td>
</tr>
<tr>
<td><code>Number.POSITIVE_INFINITY</code></td>
<td>特指“正无穷”;在溢出时返回</td>
</tr>
<tr>
<td><code>Number.EPSILON</code></td>
<td>表示1和比最接近1且大于1的最小<code>Number</code>之间的差别</td>
</tr>
<tr>
<td><code>Number.MIN_SAFE_INTEGER</code></td>
<td>JavaScript最小安全整数.</td>
</tr>
<tr>
<td><code>Number.MAX_SAFE_INTEGER</code></td>
<td>JavaScript最大安全整数.</td>
</tr>
</tbody>
</table>
<h3 id="类型转换"><a href="#类型转换" class="headerlink" title="类型转换"></a>类型转换</h3><ul>
<li>隐式类型转换</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">x = <span class="string">"The answer is "</span> + <span class="number">42</span>              <span class="comment">// 由于隐式类型转换所以结果为："The answer is 42"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 而其他的运算符例如 ‘-’</span></span><br><span class="line"></span><br><span class="line"><span class="string">"37"</span> - <span class="number">7</span>                               <span class="comment">// 隐式类型转换会将字符串转换为数字 30</span></span><br></pre></td></tr></table></figure>
<ul>
<li>显式类型转换 parseFloat</li>
</ul>
<p><code>parseFloat()</code> 全局函数可以将字符串转换为数字类型</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="built_in">parseFloat</span>(<span class="string">'12345.12'</span>)         <span class="comment">// 将返回数字类型的 12345.12</span></span><br><span class="line"><span class="built_in">console</span>.log(a)</span><br></pre></td></tr></table></figure>
<ul>
<li>显式类型转换 parseInt</li>
</ul>
<p><code>parseInt(string,radix)</code> 按照 <code>radix</code> 给定的进制转换字符串为整数。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> b = <span class="built_in">parseInt</span>(<span class="string">'11111111'</span>,<span class="number">2</span>)        <span class="comment">// 将返回255</span></span><br><span class="line"><span class="built_in">console</span>.log(b)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> b = <span class="built_in">parseInt</span>(<span class="string">'255.2'</span>,<span class="number">10</span>)          <span class="comment">// 将返回255</span></span><br><span class="line"><span class="built_in">console</span>.log(b)</span><br></pre></td></tr></table></figure>
<ul>
<li>显式类型转换 +</li>
</ul>
<p>将字符串转换为数字的另一种方法是使用<strong>单目加法运算符</strong>。 </p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(+<span class="string">'255.5'</span>)</span><br></pre></td></tr></table></figure>
<h3 id="数字类方法"><a href="#数字类方法" class="headerlink" title="数字类方法"></a>数字类方法</h3><table>
<thead>
<tr>
<th>方法</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Number.parseFloat()</code></td>
<td>把字符串参数解析成浮点数， 和全局方法 <code>parseFloat()</code> 作用一致.</td>
</tr>
<tr>
<td><code>Number.parseInt()</code></td>
<td>把字符串解析成特定基数对应的整型数字，和全局方法 <code>parseInt()</code> 作用一致.</td>
</tr>
<tr>
<td><code>Number.isFinite()</code></td>
<td>判断传递的值是否为有限数字。</td>
</tr>
<tr>
<td><code>Number.isInteger()</code></td>
<td>判断传递的值是否为整数。</td>
</tr>
<tr>
<td><code>Number.isNaN()</code></td>
<td>判断传递的值是否为 <code>NaN</code>. More robust version of the original global <code>isNaN()</code>.</td>
</tr>
<tr>
<td><code>Number.isSafeInteger()</code></td>
<td>判断传递的值是否为安全整数。</td>
</tr>
</tbody>
</table>
<ul>
<li>示例</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Number</span>.isInteger(<span class="number">20</span>)   <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<h2 id="时间日期"><a href="#时间日期" class="headerlink" title="时间日期"></a>时间日期</h2><ul>
<li>创建今天的日期和时间</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> today = <span class="keyword">new</span> <span class="built_in">Date</span>()</span><br></pre></td></tr></table></figure>
<ul>
<li>年月日的日期时间</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> Xmas95 = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="string">"12 25, 1995 13:30:00"</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li>省略小时分钟秒</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> Xmas95 = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="number">1995</span>, <span class="number">11</span>, <span class="number">25</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li>完整的日期时间</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> Xmas95 = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="number">1995</span>, <span class="number">11</span>, <span class="number">25</span>, <span class="number">23</span>, <span class="number">59</span>, <span class="number">59</span>)</span><br><span class="line"><span class="keyword">var</span> Xmas94 = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="number">1995</span>, <span class="number">11</span>, <span class="number">26</span>, <span class="number">23</span>, <span class="number">59</span>, <span class="number">59</span>)</span><br><span class="line">Xmas94 - Xmas95             <span class="comment">// return 86400000</span></span><br></pre></td></tr></table></figure>
<h3 id="时间日期方法"><a href="#时间日期方法" class="headerlink" title="时间日期方法"></a>时间日期方法</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">datetime.__defineGetter__      datetime.__defineSetter__      datetime.__lookupGetter__</span><br><span class="line">datetime.__lookupSetter__      datetime.__proto__             datetime.constructor</span><br><span class="line">datetime.hasOwnProperty        datetime.isPrototypeOf         datetime.propertyIsEnumerable</span><br><span class="line">datetime.toLocaleString        datetime.toString              datetime.valueOf</span><br><span class="line"></span><br><span class="line">datetime.getDate               datetime.getDay                datetime.getFullYear</span><br><span class="line">datetime.getHours              datetime.getMilliseconds       datetime.getMinutes</span><br><span class="line">datetime.getMonth              datetime.getSeconds            datetime.getTime</span><br><span class="line">datetime.getTimezoneOffset     datetime.getUTCDate            datetime.getUTCDay</span><br><span class="line">datetime.getUTCFullYear        datetime.getUTCHours           datetime.getUTCMilliseconds</span><br><span class="line">datetime.getUTCMinutes         datetime.getUTCMonth           datetime.getUTCSeconds</span><br><span class="line">datetime.getYear               datetime.setDate               datetime.setFullYear</span><br><span class="line">datetime.setHours              datetime.setMilliseconds       datetime.setMinutes</span><br><span class="line">datetime.setMonth              datetime.setSeconds            datetime.setTime</span><br><span class="line">datetime.setUTCDate            datetime.setUTCFullYear        datetime.setUTCHours</span><br><span class="line">datetime.setUTCMilliseconds    datetime.setUTCMinutes         datetime.setUTCMonth</span><br><span class="line">datetime.setUTCSeconds         datetime.setYear               datetime.toDateString</span><br><span class="line">datetime.toGMTString           datetime.toISOString           datetime.toJSON</span><br><span class="line">datetime.toLocaleDateString    datetime.toLocaleTimeString    datetime.toTimeString</span><br></pre></td></tr></table></figure>
<ul>
<li>set 系列方法用于在Date对象中设置日期和时间值。</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> datetime = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="number">1995</span>, <span class="number">11</span>, <span class="number">26</span>, <span class="number">23</span>, <span class="number">59</span>, <span class="number">59</span>)</span><br><span class="line">datetime.setYear(<span class="number">2018</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li>get 系列用于从Date对象获取日期和时间值。</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> datetime = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="number">1995</span>, <span class="number">11</span>, <span class="number">26</span>, <span class="number">23</span>, <span class="number">59</span>, <span class="number">59</span>)</span><br><span class="line">datetime.getFullYear()</span><br></pre></td></tr></table></figure>
<ul>
<li>to 系列，用于从Date对象返回字符串值。</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Unix 时间戳转化为本地时间</span></span><br><span class="line"><span class="keyword">var</span> unixtime=<span class="number">1358932051</span>;</span><br><span class="line"><span class="keyword">var</span> unixTimestamp = <span class="keyword">new</span> <span class="built_in">Date</span>(unixtime* <span class="number">1000</span>); </span><br><span class="line">commonTime = unixTimestamp.toLocaleString();</span><br><span class="line">alert(<span class="string">"普通时间为："</span>+commonTime);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 本地时间转换为 Unix 时间戳</span></span><br><span class="line"><span class="keyword">var</span> str =<span class="string">"2013-01-01 00:00:00"</span>;</span><br><span class="line">str = str.replace(<span class="regexp">/-/g</span>,<span class="string">"/"</span>);</span><br><span class="line"><span class="keyword">var</span> date = <span class="keyword">new</span> <span class="built_in">Date</span>(str); </span><br><span class="line"><span class="keyword">var</span> humanDate = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="built_in">Date</span>.UTC(date.getFullYear(),date.getMonth(),date.getDate(),date.getHours(),date.getMinutes(), date.getSeconds())); </span><br><span class="line"><span class="built_in">console</span>.log(humanDate.getTime()/<span class="number">1000</span> - <span class="number">8</span>*<span class="number">60</span>*<span class="number">60</span>);</span><br></pre></td></tr></table></figure>
<h2 id="函数对象"><a href="#函数对象" class="headerlink" title="函数对象"></a>函数对象</h2><ul>
<li>创建函数对象</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 普通函数</span></span><br><span class="line">func_name(<span class="number">1</span>,<span class="number">2</span>);                                 <span class="comment">// 函数可以在声明前被调用，也称作函数提升</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">func_name</span>(<span class="params">arg1, arg2=<span class="number">5</span></span>) </span>&#123;              <span class="comment">// arg2 为有默认值的参数</span></span><br><span class="line">    <span class="built_in">console</span>.log(arg1 + arg2)</span><br><span class="line">    <span class="keyword">return</span> arg1 + arg2;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 函数表达式</span></span><br><span class="line"><span class="keyword">var</span> func_name = <span class="function"><span class="keyword">function</span>(<span class="params">arg1, arg2</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(arg1 + arg2)</span><br><span class="line">    <span class="keyword">return</span> arg1 + arg2;</span><br><span class="line">&#125;</span><br><span class="line">func_name(<span class="number">1</span>,<span class="number">2</span>);                                 <span class="comment">// 函数表达式不可以在声明前调用，也就是不能被提升</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 自执行函数</span></span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params">arg1, arg2</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(arg1 + arg2)</span><br><span class="line">    <span class="keyword">return</span> arg1 + arg2;</span><br><span class="line">&#125;)(<span class="number">1</span>,<span class="number">2</span>)</span><br></pre></td></tr></table></figure>
<h3 id="封装和结构"><a href="#封装和结构" class="headerlink" title="封装和结构"></a>封装和结构</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">func</span>(<span class="params">a,...b</span>)</span>&#123;            <span class="comment">// 使用 ... 来收集多个参数</span></span><br><span class="line">    <span class="built_in">console</span>.log(a,b)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func(...[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>])         <span class="comment">// 使用 ... 将数据结构为多个参数</span></span><br></pre></td></tr></table></figure>
<h3 id="函数对象方法"><a href="#函数对象方法" class="headerlink" title="函数对象方法"></a>函数对象方法</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">func_name(<span class="number">1</span>,<span class="number">2</span>);                                 <span class="comment">// 函数可以在声明前被调用，也称作函数提升</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">func_name</span>(<span class="params">arg1, arg2, arg3</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(arg1 + arg2);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">arguments</span>.length);              <span class="comment">// 传递给函数的参数个数</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">arguments</span>[<span class="number">0</span>]);                  <span class="comment">// 传递给函数的第一个参数</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">arguments</span>);                     <span class="comment">// 传递给函数的所有参数对象，像 Python 的字典</span></span><br><span class="line">    <span class="keyword">return</span> arg1 + arg2;                         <span class="comment">// 有返回值的函数可以作为变量的值</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="箭头函数"><a href="#箭头函数" class="headerlink" title="箭头函数"></a>箭头函数</h3><ul>
<li>基础语法</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">(参数<span class="number">1</span>, 参数<span class="number">2</span>, …, 参数N) =&gt; &#123; 函数声明 &#125;</span><br><span class="line">(参数<span class="number">1</span>, 参数<span class="number">2</span>, …, 参数N) =&gt; 表达式（单一）</span><br><span class="line"><span class="comment">//相当于：(参数1, 参数2, …, 参数N) =&gt;&#123; return 表达式; &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 当只有一个参数时，圆括号是可选的：</span></span><br><span class="line">(单一参数) =&gt; &#123;函数声明&#125;</span><br><span class="line">单一参数 =&gt; &#123;函数声明&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 没有参数的函数应该写成一对圆括号。</span></span><br><span class="line">() =&gt; &#123;函数声明&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>高级语法</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//加括号的函数体返回对象字面表达式：</span></span><br><span class="line">参数=&gt; (&#123;<span class="attr">foo</span>: bar&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//支持剩余参数和默认参数</span></span><br><span class="line">(参数<span class="number">1</span>, 参数<span class="number">2</span>, ...rest) =&gt; &#123;函数声明&#125;</span><br><span class="line">(参数<span class="number">1</span> = 默认值<span class="number">1</span>,参数<span class="number">2</span>, …, 参数N = 默认值N) =&gt; &#123;函数声明&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//同样支持参数列表解构</span></span><br><span class="line"><span class="keyword">let</span> f = <span class="function">(<span class="params">[a, b] = [<span class="number">1</span>, <span class="number">2</span>], &#123;x: c&#125; = &#123;x: a + b&#125;</span>) =&gt;</span> a + b + c;</span><br><span class="line">f();  <span class="comment">// 6</span></span><br></pre></td></tr></table></figure>
<ul>
<li>示例</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> materials = [</span><br><span class="line">    <span class="string">'Hydrogen'</span>,</span><br><span class="line">    <span class="string">'Helium'</span>,</span><br><span class="line">    <span class="string">'Lithium'</span>,</span><br><span class="line">    <span class="string">'Beryllium'</span></span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">func</span>(<span class="params">args</span>) </span>&#123; </span><br><span class="line">    <span class="built_in">console</span>.log(args.length); </span><br><span class="line">&#125;</span><br><span class="line">materials.map(func);                               <span class="comment">// 普通函数 [8, 6, 7, 9]</span></span><br><span class="line"></span><br><span class="line">materials.map(<span class="function">(<span class="params">args</span>) =&gt;</span> &#123;                          <span class="comment">// 在数组的每个元素上执行箭头函数</span></span><br><span class="line">    <span class="built_in">console</span>.log(args.length);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">materials.map(<span class="function"><span class="params">args</span> =&gt;</span> <span class="built_in">console</span>.log(args.length));   <span class="comment">// 更精简的箭头函数</span></span><br><span class="line"><span class="comment">// materials.map(args =&gt; args.length);    </span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> array = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>]</span><br><span class="line">array.map(<span class="function"><span class="params">args</span> =&gt;</span> &#123;<span class="keyword">if</span> (args % <span class="number">2</span> === <span class="number">0</span>)&#123;<span class="built_in">console</span>.log(args)&#125;&#125;);    <span class="comment">// 过滤出偶数</span></span><br></pre></td></tr></table></figure>
<h3 id="生成器函数"><a href="#生成器函数" class="headerlink" title="生成器函数"></a>生成器函数</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> counter = (<span class="function"><span class="keyword">function</span> * (<span class="params"></span>) </span>&#123;</span><br><span class="line">    count = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (<span class="literal">true</span>)</span><br><span class="line">        <span class="keyword">yield</span> count++;</span><br><span class="line">&#125;)();</span><br><span class="line"><span class="built_in">console</span>.log(counter.next())</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">counter</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> c = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> ++c;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">c = counter();</span><br><span class="line"><span class="built_in">console</span>.log(c());</span><br><span class="line"><span class="built_in">console</span>.log(c());</span><br><span class="line"><span class="built_in">console</span>.log(c());</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> counter = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> c = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> ++c;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">c = counter();</span><br><span class="line"><span class="built_in">console</span>.log(c());</span><br><span class="line"><span class="built_in">console</span>.log(c());</span><br><span class="line"><span class="built_in">console</span>.log(c());</span><br></pre></td></tr></table></figure>
<h3 id="call方法"><a href="#call方法" class="headerlink" title="call方法"></a>call方法</h3><p>将函数在指定的上下文中执行，当调用函数的时候，函数的 this 值就会绑定到，call 方法的第一个参数对象上。</p>
<ul>
<li>语法：<code>fun.call(thisArg, arg1, arg2, ...)</code></li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">name = <span class="string">'global'</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">show</span>(<span class="params">args</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name,args)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> test = &#123;</span><br><span class="line">    name : <span class="string">'test'</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">show(<span class="string">'测试参数'</span>);</span><br><span class="line">show.call(test,<span class="string">'测试参数'</span>);</span><br><span class="line">show.apply(test,[<span class="string">'测试参数1'</span>])        <span class="comment">// apply 方法接收一个数组</span></span><br></pre></td></tr></table></figure>
<h2 id="字符串对象"><a href="#字符串对象" class="headerlink" title="字符串对象"></a>字符串对象</h2><p>String 对象是对原始string类型的封装，可以使用单引号或双引号创建简单的字符串。</p>
<ul>
<li>16禁止转义序列</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="string">'\xA9'</span>     <span class="comment">// @ 符号</span></span><br></pre></td></tr></table></figure>
<ul>
<li>Unicode转义序列</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="string">'\u00a9'</span>   <span class="comment">// @ 符号</span></span><br></pre></td></tr></table></figure>
<ul>
<li>创建字符串对象</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="string">'test'</span></span><br></pre></td></tr></table></figure>
<ul>
<li>多行文本，使用反引号标记一个多行字符串</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">`string text line 1</span></span><br><span class="line"><span class="string">string text line 2`</span>);</span><br></pre></td></tr></table></figure>
<ul>
<li>嵌入表达式</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">5</span>;</span><br><span class="line"><span class="keyword">var</span> b = <span class="number">10</span>;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">`Fifteen is <span class="subst">$&#123;a + b&#125;</span> and\nnot <span class="subst">$&#123;<span class="number">2</span> * a + b&#125;</span>.`</span>);</span><br></pre></td></tr></table></figure>
<h3 id="字符串方法"><a href="#字符串方法" class="headerlink" title="字符串方法"></a>字符串方法</h3><table>
<thead>
<tr>
<th>方法</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>charAt</code>, <code>charCodeAt</code>, <code>codePointAt</code></td>
<td>返回字符串指定位置的字符或者字符编码。</td>
</tr>
<tr>
<td><code>indexOf</code>, <code>lastIndexOf</code></td>
<td>分别返回字符串中指定子串的位置或最后位置。</td>
</tr>
<tr>
<td><code>startsWith</code>, <code>endsWith</code>, <code>includes</code></td>
<td>返回字符串是否以指定字符串开始、结束或包含指定字符串。</td>
</tr>
<tr>
<td><code>concat</code></td>
<td>连接两个字符串并返回新的字符串。</td>
</tr>
<tr>
<td><code>fromCharCode</code>, <code>fromCodePoint</code></td>
<td>从指定的Unicode值序列构造一个字符串。这是一个String类方法，不是实例方法。</td>
</tr>
<tr>
<td><code>split</code></td>
<td>通过将字符串分离成一个个子串来把一个String对象分裂到一个字符串数组中。</td>
</tr>
<tr>
<td><code>slice</code></td>
<td>从一个字符串提取片段并作为新字符串返回。</td>
</tr>
<tr>
<td><code>substring</code>, <code>substr</code></td>
<td>分别通过指定起始和结束位置，起始位置和长度来返回字符串的指定子集。</td>
</tr>
<tr>
<td><code>match</code>, <code>replace</code>, <code>search</code></td>
<td>通过正则表达式来工作.</td>
</tr>
<tr>
<td><code>toLowerCase</code>, <code>toUpperCase</code></td>
<td>分别返回字符串的小写表示和大写表示。</td>
</tr>
<tr>
<td><code>normalize</code></td>
<td>按照指定的一种 Unicode 正规形式将当前字符串正规化。</td>
</tr>
<tr>
<td><code>repeat</code></td>
<td>将字符串内容重复指定次数后返回。</td>
</tr>
<tr>
<td><code>trim</code></td>
<td>去掉字符串开头和结尾的空白字符。</td>
</tr>
<tr>
<td>创建HTML格式的字符串</td>
<td><code>big</code>, <code>blink</code>, <code>bold</code>, <code>fixed</code>, <code>italics</code>, <code>small</code>, <code>strike</code>, <code>sub</code>,<code>sup</code></td>
</tr>
</tbody>
</table>
<h2 id="set"><a href="#set" class="headerlink" title="set"></a>set</h2><p>Set 是集合的意思，它类似于数组，但是它的成员中不能有重复的元素。</p>
<ul>
<li>Set 有去重的性质，<code>.size</code> 属性是 <code>set</code> 的长度。</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="keyword">set</span> = new Set([1,2,2,3,4,4,5])</span><br><span class="line">console.log(<span class="keyword">set</span>);</span><br><span class="line">console.log(<span class="keyword">set</span>.size);</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Set</span> &#123; <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span> &#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>引用 SET 性质，对数组进行去重</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">3</span>];</span><br><span class="line"><span class="keyword">let</span> arr = [...new <span class="built_in">Set</span>(arr)];</span><br><span class="line"><span class="built_in">console</span>.log(arr);</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">[ <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">4</span>, <span class="number">6</span> ]</span><br></pre></td></tr></table></figure>
<h2 id="map"><a href="#map" class="headerlink" title="map"></a>map</h2><ul>
<li>创建 <code>map</code> </li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> map = <span class="keyword">new</span> <span class="built_in">Map</span>([[<span class="string">'a'</span>,<span class="number">1</span>],[<span class="string">'b'</span>,<span class="number">2</span>]]);</span><br><span class="line"><span class="built_in">console</span>.log(map);</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Map</span> &#123; <span class="string">'a'</span> =&gt; <span class="number">1</span>, <span class="string">'b'</span> =&gt; <span class="number">2</span> &#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><code>set</code> 方法设定键值</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> map = <span class="keyword">new</span> <span class="built_in">Map</span>([[<span class="string">'a'</span>,<span class="number">1</span>],[<span class="string">'b'</span>,<span class="number">2</span>]]);</span><br><span class="line">map.set(<span class="string">'qwe'</span>, <span class="string">'123'</span>).set(<span class="string">'new'</span>, <span class="string">'fq'</span>).set(<span class="string">'yu'</span>, <span class="string">'li'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(map);</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Map</span> &#123; <span class="string">'a'</span> =&gt; <span class="number">1</span>, <span class="string">'b'</span> =&gt; <span class="number">2</span>, <span class="string">'qwe'</span> =&gt; <span class="string">'123'</span>, <span class="string">'new'</span> =&gt; <span class="string">'fq'</span>, <span class="string">'yu'</span> =&gt; <span class="string">'li'</span> &#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><code>get</code> 方法取得值</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> map = <span class="keyword">new</span> <span class="built_in">Map</span>([[<span class="string">'a'</span>,<span class="number">1</span>],[<span class="string">'b'</span>,<span class="number">2</span>]]);</span><br><span class="line"><span class="built_in">console</span>.log(map.get(<span class="string">'b'</span>));</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="number">2</span></span><br></pre></td></tr></table></figure>
<ul>
<li><code>delete</code> 删除键</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> map = <span class="keyword">new</span> <span class="built_in">Map</span>([[<span class="string">'a'</span>,<span class="number">1</span>],[<span class="string">'b'</span>,<span class="number">2</span>]]);</span><br><span class="line">map.delete(<span class="string">'a'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(map);</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Map</span> &#123; <span class="string">'b'</span> =&gt; <span class="number">2</span> &#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><code>has</code> 存在性检测</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> map = <span class="keyword">new</span> <span class="built_in">Map</span>([[<span class="string">'a'</span>,<span class="number">1</span>],[<span class="string">'b'</span>,<span class="number">2</span>]]);</span><br><span class="line"><span class="built_in">console</span>.log(map.has(<span class="string">'a'</span>));</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="literal">true</span></span><br></pre></td></tr></table></figure>
<ul>
<li><code>forEach</code> 遍历</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> map = <span class="keyword">new</span> <span class="built_in">Map</span>([[<span class="string">'a'</span>,<span class="number">1</span>],[<span class="string">'b'</span>,<span class="number">2</span>]]);</span><br><span class="line">map.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">key,value,map</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(key,value,map);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="number">1</span> <span class="string">'a'</span> <span class="built_in">Map</span> &#123; <span class="string">'a'</span> =&gt; <span class="number">1</span>, <span class="string">'b'</span> =&gt; <span class="number">2</span> &#125;</span><br><span class="line"><span class="number">2</span> <span class="string">'b'</span> <span class="built_in">Map</span> &#123; <span class="string">'a'</span> =&gt; <span class="number">1</span>, <span class="string">'b'</span> =&gt; <span class="number">2</span> &#125;</span><br></pre></td></tr></table></figure>
<h1 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h1><h2 id="普通函数"><a href="#普通函数" class="headerlink" title="普通函数"></a>普通函数</h2><p>由于声明提升，函数可以在声明前调用，并且如果存在同名变量，那么函数的声明提升是优于变量的。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(sum(<span class="number">1</span>, <span class="number">2</span>));</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> sum = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sum</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="number">3</span></span><br></pre></td></tr></table></figure>
<p>由于函数声明提升是优于变量的，所以 <code>var sum = 2;</code> 会把函数的标识符覆盖掉，所以下面的程序会报错。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> sum = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sum</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(sum(<span class="number">1</span>, <span class="number">2</span>));</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">TypeError</span>: sum is not a <span class="function"><span class="keyword">function</span></span></span><br></pre></td></tr></table></figure>
<h2 id="函数表达式"><a href="#函数表达式" class="headerlink" title="函数表达式"></a>函数表达式</h2><p><code>function</code> 是一个匿名函数， <code>sum</code> 不是函数名字，只是匿名函数的一个引用。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> sum = <span class="function"><span class="keyword">function</span> (<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(sum(<span class="number">1</span>, <span class="number">2</span>));</span><br></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line">3</span><br></pre></td></tr></table></figure>
<p>匿名函数没有名字，无法被<strong>声明提升</strong>，而 <code>sum</code> 只是一个变量，变量声明提升后值为 <code>undefined</code>，所以下面程序里 <code>sum</code> 两次被赋值，就会按顺序被执行。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(sum);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> sum = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> sum = <span class="function"><span class="keyword">function</span> (<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(sum);</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="literal">undefined</span></span><br><span class="line">[<span class="built_in">Function</span>: sum]</span><br></pre></td></tr></table></figure>
<h2 id="嵌套遮蔽效应"><a href="#嵌套遮蔽效应" class="headerlink" title="嵌套遮蔽效应"></a>嵌套遮蔽效应</h2><ul>
<li>多层嵌套的时候，如果有同名的变量，那么会发生遮蔽效应。</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">1</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn1</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> a = <span class="number">2</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">fn2</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(a);</span><br><span class="line">    &#125;</span><br><span class="line">    fn2();</span><br><span class="line">&#125;</span><br><span class="line">fn1();</span><br><span class="line"><span class="built_in">console</span>.log(a);</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">2</span><br><span class="line">1</span><br></pre></td></tr></table></figure>
<h2 id="斐波那契数列"><a href="#斐波那契数列" class="headerlink" title="斐波那契数列"></a>斐波那契数列</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fib</span>(<span class="params">n</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (n == <span class="number">1</span> || n == <span class="number">2</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> fib(n - <span class="number">1</span>) + fib(n - <span class="number">2</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="闭包和性质"><a href="#闭包和性质" class="headerlink" title="闭包和性质"></a>闭包和性质</h2><p><code>inner</code> 函数能够持久保存自己定义时所处的环境，并且即使自己在其他环境被调用的时候，依然可以访问自己定义时候所处的环境的值。</p>
<p><code>Inner</code> 函数把它自己内部的语句，和自己声明时所处的作用域一起封装成了一个封闭的环境，我们称之为闭包。</p>
<p>每个函数都是一个闭包，无论它在何处被调用，它总能访问它定义时所处作用域中的全部变量。</p>
<p>闭包天生存在，并不需要什么特殊结构才存在，只不过我们必须要刻意的把函数放到其他的作用域中调用才能明显的观察到闭包的性质。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">outer</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> a = <span class="number">1</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">inner</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(a);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> inner;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> inn = outer();</span><br><span class="line">inn();</span><br></pre></td></tr></table></figure>
<ul>
<li>第二种形式</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> inner;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">outer</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> a = <span class="number">1</span>;</span><br><span class="line">    inner = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(a);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">outer();</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a = <span class="number">2</span>;</span><br><span class="line">inner();</span><br></pre></td></tr></table></figure>
<ul>
<li>第三种形式</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">outer</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">inner</span>(<span class="params">y</span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(x + y);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> inner;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> inn = outer(<span class="number">3</span>);</span><br><span class="line">inn(<span class="number">5</span>);</span><br></pre></td></tr></table></figure>
<ul>
<li>两个闭包是互相隔离的特性</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">outer</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> count = <span class="number">0</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">inner</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        count++;</span><br><span class="line">        <span class="built_in">console</span>.log(count);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> inner;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> inn1 = outer();</span><br><span class="line"><span class="keyword">var</span> inn2 = outer();</span><br><span class="line"></span><br><span class="line">inn1();</span><br><span class="line">inn1();</span><br><span class="line"></span><br><span class="line">inn2();</span><br><span class="line">inn2();</span><br><span class="line"></span><br><span class="line">inn1();</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="number">3</span></span><br></pre></td></tr></table></figure>
<h2 id="call-和-apply"><a href="#call-和-apply" class="headerlink" title="call 和 apply"></a>call 和 apply</h2><ul>
<li>常见问题之函数内的 this</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">    <span class="selector-id">#box</span> &#123;</span></span><br><span class="line">        width: 200px;</span><br><span class="line">        height: 200px;</span><br><span class="line">        background-color: blanchedalmond;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"box"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> box = <span class="built_in">document</span>.getElementById(<span class="string">"box"</span>);</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        box.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(<span class="keyword">this</span>);</span></span><br><span class="line"><span class="javascript">            func();                                    <span class="comment">// 错误写法</span></span></span><br><span class="line"><span class="javascript">          <span class="comment">//func.call(this);                           // 正确写法</span></span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="function"><span class="keyword">function</span> <span class="title">func</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(<span class="keyword">this</span>);</span></span><br><span class="line"><span class="javascript">            <span class="keyword">this</span>.style.backgroundColor = <span class="string">"red"</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">"box"</span>&gt;&lt;<span class="regexp">/div&gt;                                    /</span><span class="regexp">/ onclick 绑定的函数 this 为点击元素本身</span></span><br><span class="line"><span class="regexp">Window &#123;postMessage: ƒ,………&#125;                             /</span><span class="regexp">/ onclick 调用其他函数的内部对象为 window</span></span><br><span class="line"><span class="regexp">Cannot set property 'backgroundColor' of undefined      /</span><span class="regexp">/ window 对象不能设定 backgroundColor</span></span><br></pre></td></tr></table></figure>
<ul>
<li>call 和 apply 语句的含义有两层</li>
</ul>
<ol>
<li>func 函数将被调用</li>
<li>func 函数内部的 this 是 obj</li>
</ol>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    <span class="string">"name"</span> : <span class="string">"考拉"</span>,</span><br><span class="line">    <span class="string">"age"</span> : <span class="number">18</span>,</span><br><span class="line">    <span class="string">"sex"</span> ：<span class="string">"男"</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">func</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    alert(<span class="keyword">this</span>.name);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">func.call(obj);</span><br><span class="line">func.apply(obj);</span><br></pre></td></tr></table></figure>
<ul>
<li>apply 和 call 的区别只有一个</li>
</ul>
<ol>
<li>call 向函数传递参数时候使用逗号 (,) 分隔函数的参数</li>
<li>apply 向函数传递参数的时候需要将所有参数放入一个数组中</li>
</ol>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    <span class="string">"name"</span> : <span class="string">"考拉"</span>,</span><br><span class="line">    <span class="string">"age"</span> : <span class="number">18</span>,</span><br><span class="line">    <span class="string">"sex"</span> ：<span class="string">"男"</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">func</span>(<span class="params">a, b, c</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</span><br><span class="line">    <span class="built_in">console</span>.log(a + b + c);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">func.call(obj, <span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>);</span><br><span class="line">func.apply(obj, [<span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>]);</span><br></pre></td></tr></table></figure>
<h2 id="bind"><a href="#bind" class="headerlink" title="bind"></a>bind</h2><p>与 apply、call 不同的是 bind 会固定函数的上下文，不管怎么调用函数，上下文都不会再改变了。</p>
<p>bind 不会运行这个函数，而是返回一个新的函数。</p>
<blockquote>
<p>  箭头函数是无法设置上下文的，bind 对箭头函数是无效的。</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;<span class="attr">a</span>: <span class="number">100</span>&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fun</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.a);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> fun = fun.bind(obj);</span><br><span class="line">fun();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj1 = &#123;<span class="attr">a</span>:<span class="number">200</span>&#125;</span><br><span class="line"><span class="keyword">var</span> fun1 = fun.bind(obj1);</span><br><span class="line">fun1();</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="number">100</span></span><br><span class="line"><span class="number">100</span></span><br></pre></td></tr></table></figure>
<h2 id="箭头函数-1"><a href="#箭头函数-1" class="headerlink" title="箭头函数"></a>箭头函数</h2><p>ES6 允许使用 =&gt;，来定义函数。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> sum = <span class="function">(<span class="params">a, b</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(sum(<span class="number">4</span>, <span class="number">5</span>))</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="number">9</span></span><br></pre></td></tr></table></figure>
<p>如果函数体中只有一条语句，那么就不需要写大括号，也不需要写 <code>return</code> 了。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> sum = <span class="function">(<span class="params">a, b</span>) =&gt;</span> a + b;</span><br><span class="line"><span class="built_in">console</span>.log(sum(<span class="number">4</span>, <span class="number">6</span>));</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="number">10</span></span><br></pre></td></tr></table></figure>
<ul>
<li>返回对象</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = <span class="function">(<span class="params">a, b</span>) =&gt;</span> (&#123;<span class="attr">name</span>:a,<span class="attr">age</span>:b&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(obj(<span class="string">"jinheng"</span>,<span class="number">30</span>));</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&#123; <span class="attr">name</span>: <span class="string">'jinheng'</span>, <span class="attr">age</span>: <span class="number">30</span> &#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>在任何需要函数的地方都可以使用箭头函数</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">765</span>, <span class="number">7654</span>, <span class="number">3</span>, <span class="number">211</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">8</span>, <span class="number">854</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">32</span>, <span class="number">4</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> arr1 = arr.filter(<span class="function">(<span class="params">value, index, arr</span>) =&gt;</span> value &lt; index);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(arr1);</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">[ <span class="number">3</span>, <span class="number">2</span>, <span class="number">4</span> ]</span><br></pre></td></tr></table></figure>
<blockquote>
<p>  filter 接收一个函数，返回一个新数组，filter 对每个数组元素执行这个函数，函数如果返回 true 则保留为新数组的成员。</p>
</blockquote>
<ul>
<li>需要注意</li>
</ul>
<p>箭头函数有几个使用注意点。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">（<span class="number">1</span>）函数体内的<span class="keyword">this</span>对象，就是定义时所在的对象，而不是使用时所在的对象。</span><br><span class="line">（<span class="number">2</span>）不可以当作构造函数，也就是说，不可以使用<span class="keyword">new</span>命令，否则会抛出一个错误。</span><br><span class="line">（<span class="number">3</span>）不可以使用<span class="built_in">arguments</span>对象，该对象在函数体内不存在。如果要用，可以用 rest 参数代替。</span><br><span class="line">（<span class="number">4</span>）不可以使用<span class="keyword">yield</span>命令，因此箭头函数不能用作 Generator 函数。</span><br></pre></td></tr></table></figure>
<p>通常函数的 this 在定义函数的时候不知道指代谁，要看如何调用。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fun</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.a);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    a: <span class="number">100</span>,</span><br><span class="line">    f: fun</span><br><span class="line">&#125;</span><br><span class="line">obj.f();</span><br></pre></td></tr></table></figure>
<p>但是箭头函数的 this 在定义函数的时候就能确定，且 this 在箭头函数内是不可变的。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> fun = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.a);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    a: <span class="number">100</span>,</span><br><span class="line">    f: fun</span><br><span class="line">&#125;</span><br><span class="line">obj.f();</span><br></pre></td></tr></table></figure>
<ul>
<li>箭头函数始终为它定义时候的 this ，而不是运行时候的 this，并且不会再改变</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div id=<span class="string">"box"</span> style=<span class="string">"width: 200px;height: 200px;background-color: royalblue;"</span>&gt;&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">    &lt;script&gt;</span></span><br><span class="line"><span class="regexp">        var box = document.getElementById("box");</span></span><br><span class="line"><span class="regexp">        box.onclick = (function () &#123;</span></span><br><span class="line"><span class="regexp">            /</span><span class="regexp">/ self = this;</span></span><br><span class="line"><span class="regexp">            /</span><span class="regexp">/ setTimeout(function () &#123; self.style.backgroundColor = "red" &#125;, 1000);</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">            setTimeout(() =&gt; this.style.backgroundColor = "red",1000);</span></span><br><span class="line"><span class="regexp">        &#125;)</span></span><br><span class="line"><span class="regexp">    &lt;/</span>script&gt;</span><br><span class="line">&lt;<span class="regexp">/body&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="Promise"><a href="#Promise" class="headerlink" title="Promise"></a>Promise</h2><p><code>Promise</code> 内部封装了一个异步的操作，它有一个 <code>.then</code> 方法接收两个函数参数，一个是异步事件执行成功时候做的事情，一个是异步涵涵素执行失败时候做的事情。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">loadPic</span>(<span class="params">url</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span> (<span class="params">resolve, reject</span>) </span>&#123;     <span class="comment">// 返回一个 promise 对象</span></span><br><span class="line">        <span class="keyword">var</span> img = <span class="keyword">new</span> Image();                          <span class="comment">// 新建一个 img 元素对象</span></span><br><span class="line">        img.onload = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;                      <span class="comment">// 如果 img 加载完成执行 resolve 函数</span></span><br><span class="line">            resolve(img);</span><br><span class="line">        &#125;</span><br><span class="line">        img.onerror = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;                     <span class="comment">// 如果 img 加载出现错误执行 resolve 函数</span></span><br><span class="line">            reject(<span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">"加载错误"</span>));</span><br><span class="line">        &#125;</span><br><span class="line">        img.src = url;                                  <span class="comment">// 开始加载图片</span></span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">download</span>(<span class="params">img</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">document</span>.getElementById(<span class="string">"box"</span>).appendChild(img);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">warning</span>(<span class="params">err</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"失败!"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">loadPic(<span class="string">"https://www.baidu.com/img/bd_logo1.png"</span>).then(download, warning)  <span class="comment">// 分别执行执行成功和失败时候的回调</span></span><br></pre></td></tr></table></figure>
<ul>
<li>回调是什么</li>
</ul>
<p>但凡异步一定会存在回调，回调函数就是异步的语句执行完毕后调用的语句</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> count = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">var</span> timer = setInterval(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"☆"</span>);</span><br><span class="line">    count++;</span><br><span class="line">    <span class="keyword">if</span> (count == <span class="number">300</span>)&#123;</span><br><span class="line">        clearInterval(timer);</span><br><span class="line">        callback();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,<span class="number">20</span>);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">callback</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    alert(<span class="string">"全部星星输出完毕"</span>);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<ul>
<li>内置的异步操作</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">setInterval，setTimeout 函数是异步函数</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Promise 接收两个函数，用来在异步操作成功或者失败的时候调用</span></span><br><span class="line"><span class="keyword">const</span> guarantee = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> num = <span class="built_in">Math</span>.random();</span><br><span class="line">    <span class="comment">// 接收成功时候的函数，和失败时候的函数</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">// 异步操作</span></span><br><span class="line">        setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (num &gt; <span class="number">0.5</span>) &#123;</span><br><span class="line">                resolve(num)</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                reject(num)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;, <span class="number">1000</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> pro = guarantee();</span><br><span class="line"></span><br><span class="line">pro.then(</span><br><span class="line">    (val) =&gt; &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"成功"</span>, val);</span><br><span class="line">    &#125;,</span><br><span class="line">    (val) =&gt; &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"失败"</span>, val);</span><br><span class="line">    &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<h1 id="内置函数"><a href="#内置函数" class="headerlink" title="内置函数"></a>内置函数</h1><h2 id="数学函数"><a href="#数学函数" class="headerlink" title="数学函数"></a>数学函数</h2><p>对于内置的 <code>Math</code> 数学常项和函数也有一些属性和方法。  </p>
<table>
<thead>
<tr>
<th>方法</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>abs()</code></td>
<td>绝对值</td>
</tr>
<tr>
<td><code>sin()</code>, <code>cos()</code>, <code>tan()</code></td>
<td>标准三角函数;参数为弧度</td>
</tr>
<tr>
<td><code>asin()</code>, <code>acos()</code>, <code>atan()</code>, <code>atan2()</code></td>
<td>反三角函数; 返回值为弧度</td>
</tr>
<tr>
<td><code>sinh()</code>, <code>cosh()</code>, <code>tanh()</code></td>
<td>双曲三角函数; 返回值为弧度.</td>
</tr>
<tr>
<td><code>asinh()</code>, <code>acosh()</code>, <code>atanh()</code></td>
<td>反双曲三角函数;返回值为弧度.</td>
</tr>
<tr>
<td><code>pow()</code>, <code>exp()</code>, <code>expm1()</code>, <code>log10()</code>, <code>log1p()</code>, <code>log2()</code></td>
<td>指数与对数函数</td>
</tr>
<tr>
<td><code>floor()</code>, <code>ceil()</code></td>
<td>返回最大/最小整数小于/大于或等于参数</td>
</tr>
<tr>
<td><code>min()</code>, <code>max()</code></td>
<td>返回一个以逗号间隔的数字参数列表中的较小或较大值(分别地)</td>
</tr>
<tr>
<td><code>random()</code></td>
<td>返回0和1之间的随机数。</td>
</tr>
<tr>
<td><code>round()</code>, <code>fround()</code>, <code>trunc()</code>,</td>
<td>四舍五入和截断函数</td>
</tr>
<tr>
<td><code>sqrt()</code>, <code>cbrt()</code>, <code>hypot()</code></td>
<td>平方根，立方根，平方参数的和的平方根 两个参数平方和的平方根</td>
</tr>
<tr>
<td><code>sign()</code></td>
<td>数字的符号, 说明数字是否为正、负、零。</td>
</tr>
<tr>
<td><code>clz32()</code>, <code>imul()</code></td>
<td>在32位2进制表示中，开头的0的数量.返回传入的两个参数相乘结果的类C的32位表现形式()</td>
</tr>
<tr>
<td>PI</td>
<td>返回圆周率</td>
</tr>
</tbody>
</table>
<h2 id="内置函数-1"><a href="#内置函数-1" class="headerlink" title="内置函数"></a>内置函数</h2><ul>
<li>eval()</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">eval</span>()方法会对一串字符串形式的JavaScript代码字符求值。</span><br></pre></td></tr></table></figure>
<ul>
<li>uneval() </li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">uneval()方法创建的一个<span class="built_in">Object</span>的源代码的字符串表示。</span><br></pre></td></tr></table></figure>
<ul>
<li>isFinite()</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">isFinite</span>()函数判断传入的值是否是有限的数值。 如果需要的话，其参数首先被转换为一个数值。</span><br></pre></td></tr></table></figure>
<ul>
<li>isNaN()</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">isNaN</span>()函数判断一个值是否是<span class="literal">NaN</span>。注意：<span class="built_in">isNaN</span>函数内部的强制转换规则十分有趣； 另一个可供选择的是ECMAScript <span class="number">6</span> 中定义<span class="built_in">Number</span>.isNaN() , 或者使用 <span class="keyword">typeof</span>来判断数值类型。</span><br></pre></td></tr></table></figure>
<ul>
<li>parseFloat()</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">parseFloat</span>() 函数解析字符串参数，并返回一个浮点数。</span><br></pre></td></tr></table></figure>
<ul>
<li>parseInt()</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">parseInt</span>() 函数解析字符串参数，并返回指定的基数（基础数学中的数制）的整数。</span><br></pre></td></tr></table></figure>
<ul>
<li>decodeURI()</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">decodeURI</span>() 函数对先前经过<span class="built_in">encodeURI</span>函数或者其他类似方法编码过的字符串进行解码。</span><br></pre></td></tr></table></figure>
<ul>
<li>decodeURIComponent()</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">decodeURIComponent</span>()方法对先前经过<span class="built_in">encodeURIComponent</span>函数或者其他类似方法编码过的字符串进行解码。</span><br></pre></td></tr></table></figure>
<ul>
<li>encodeURI()</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">encodeURI</span>()方法通过用以一个，两个，三个或四个转义序列表示字符的UTF<span class="number">-8</span>编码替换统一资源标识符（URI）的某些字符来进行编码（每个字符对应四个转义序列，这四个序列组了两个”替代“字符）。</span><br></pre></td></tr></table></figure>
<ul>
<li>encodeURIComponent()</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">encodeURIComponent</span>() 方法通过用以一个，两个，三个或四个转义序列表示字符的UTF<span class="number">-8</span>编码替换统一资源标识符（URI）的每个字符来进行编码（每个字符对应四个转义序列，这四个序列组了两个”替代“字符）。</span><br></pre></td></tr></table></figure>
<h1 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h1><h2 id="稀疏特性"><a href="#稀疏特性" class="headerlink" title="稀疏特性"></a>稀疏特性</h2><p>JavaScript 中的数组是稀疏数组，也就是说数组的下标之间可以有间隔，而不会报错。</p>
<p>但数组的长度属性会以最后元素的下标为计数。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>];</span><br><span class="line">a[<span class="number">10</span>] = <span class="number">11</span>;</span><br><span class="line"><span class="built_in">console</span>.log(a);</span><br><span class="line"><span class="built_in">console</span>.log(a.length);</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">(<span class="number">11</span>) [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, empty × <span class="number">6</span>, <span class="number">11</span>]</span><br><span class="line"><span class="number">11</span></span><br></pre></td></tr></table></figure>
<h2 id="数组是对象"><a href="#数组是对象" class="headerlink" title="数组是对象"></a>数组是对象</h2><p>在 <code>javascript</code> 中数组也是对象，在面向对象的编程中，对象有属性和方法，属性就是描述这个对象的特征，方法就是这个对象所支持的操作，使用点操作符来调用对象的属性或者方法。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>];</span><br><span class="line"><span class="keyword">typeof</span> a</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="string">"object"</span></span><br></pre></td></tr></table></figure>
<ul>
<li>检查一个对象是否为一个数组</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>];</span><br><span class="line"><span class="built_in">console</span>.log(a <span class="keyword">instanceof</span> <span class="built_in">Array</span>);</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="literal">true</span></span><br></pre></td></tr></table></figure>
<h2 id="数组是引用类型"><a href="#数组是引用类型" class="headerlink" title="数组是引用类型"></a>数组是引用类型</h2><p>数组是引用类型，数组可以有多个标识符，对任意一个标识符的数组操作，都会操作同一个数组。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>];</span><br><span class="line"><span class="keyword">var</span> b = a;</span><br><span class="line">b[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line"><span class="built_in">console</span>.log(a);</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">(<span class="number">4</span>) [<span class="number">0</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br></pre></td></tr></table></figure>
<p>如果 <code>a</code> 里面存储的是基本类型，那么语句 <code>b=a</code> 就是把 <code>a</code> 的值复制一份给 <code>b</code>。</p>
<p>如果 <code>a</code> 里面存储的是引用类型，那么语句 <code>b=a</code> 就是将 <code>b</code> 指向 <code>a</code> 现在的内存位置。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>];</span><br><span class="line"><span class="keyword">var</span> b = a;</span><br><span class="line"><span class="keyword">var</span> b = <span class="number">1</span>;</span><br><span class="line"><span class="built_in">console</span>.log(a);</span><br><span class="line"><span class="built_in">console</span>.log(b);</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">[ <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span> ]</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<h2 id="数组推导式"><a href="#数组推导式" class="headerlink" title="数组推导式"></a>数组推导式</h2><ul>
<li>新特性，ES6 不支持</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>];</span><br><span class="line"><span class="keyword">var</span> arr1 = [i * <span class="number">2</span> <span class="keyword">for</span> (i <span class="keyword">of</span> arr)];</span><br><span class="line"><span class="built_in">console</span>.log(arr1);</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">2,4,6,8</span><br></pre></td></tr></table></figure>
<h2 id="数组的遍历"><a href="#数组的遍历" class="headerlink" title="数组的遍历"></a>数组的遍历</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i =<span class="number">0</span>;i &lt;= arr.length - <span class="number">1</span>;i++)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(arr[i]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="length-长度"><a href="#length-长度" class="headerlink" title="length 长度"></a>length 长度</h2><p>数组有一个属性，就是 <code>length</code>，英语是长度的意思，表示这个数组的项的个数。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>];</span><br><span class="line">a.length</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">4</span><br></pre></td></tr></table></figure>
<ul>
<li>对 <code>length</code> 赋值对数组的影响</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>];</span><br><span class="line">a.lenght = <span class="number">10</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">[ <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, &lt;<span class="number">5</span> empty items&gt; ]</span><br></pre></td></tr></table></figure>
<p>设置一个小于当前下标的长度，数组会被裁剪，彻底丢失</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">a.length = <span class="number">3</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">[ <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span> ]</span><br></pre></td></tr></table></figure>
<h2 id="push-尾部追加"><a href="#push-尾部追加" class="headerlink" title="push 尾部追加"></a>push 尾部追加</h2><p>向数组尾部追加一个新的元素</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>];</span><br><span class="line"><span class="built_in">console</span>.log(arr);</span><br><span class="line">arr.push(<span class="number">5</span>);</span><br><span class="line"><span class="built_in">console</span>.log(arr);</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">[ <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span> ]</span><br><span class="line">[ <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span> ]</span><br></pre></td></tr></table></figure>
<h2 id="pop-删除尾部"><a href="#pop-删除尾部" class="headerlink" title="pop 删除尾部"></a>pop 删除尾部</h2><p>从数组尾部弹出并返回一个元素的值。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>];</span><br><span class="line"><span class="built_in">console</span>.log(arr)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> tail = arr.pop();</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(tail);</span><br><span class="line"><span class="built_in">console</span>.log(arr);</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">[ <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span> ]</span><br><span class="line"><span class="number">4</span></span><br><span class="line">[ <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span> ]</span><br></pre></td></tr></table></figure>
<h2 id="unshift-头部插入"><a href="#unshift-头部插入" class="headerlink" title="unshift 头部插入"></a>unshift 头部插入</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>];</span><br><span class="line"><span class="built_in">console</span>.log(arr);</span><br><span class="line"></span><br><span class="line">arr.unshift(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(arr);</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">[ <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span> ]</span><br><span class="line">[ <span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span> ]</span><br></pre></td></tr></table></figure>
<h2 id="shift-删除头部"><a href="#shift-删除头部" class="headerlink" title="shift 删除头部"></a>shift 删除头部</h2><p>从数组头部弹出并返回一个元素的值。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>];</span><br><span class="line"><span class="built_in">console</span>.log(arr);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> hrad = arr.shift();</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(hrad);</span><br><span class="line"><span class="built_in">console</span>.log(arr);</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">[ <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span> ]</span><br><span class="line"><span class="number">1</span></span><br><span class="line">[ <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span> ]</span><br></pre></td></tr></table></figure>
<h2 id="右移算法"><a href="#右移算法" class="headerlink" title="右移算法"></a>右移算法</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>];</span><br><span class="line">arr.unshift(arr.pop());</span><br><span class="line">arr.unshift(arr.pop());</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(arr);</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">[ <span class="number">3</span>, <span class="number">4</span>, <span class="number">1</span>, <span class="number">2</span> ]</span><br></pre></td></tr></table></figure>
<h2 id="concat-连接数组"><a href="#concat-连接数组" class="headerlink" title="concat 连接数组"></a>concat 连接数组</h2><p>concat 的参数非常灵活，可以是数组，字符串，数字，对象等。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> arr1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>];</span><br><span class="line"><span class="keyword">var</span> arr2 = [<span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> arr3 = arr1.concat(arr2, <span class="number">9</span>, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(arr3);</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">[ <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">0</span> ]</span><br></pre></td></tr></table></figure>
<h2 id="slice-数组切片"><a href="#slice-数组切片" class="headerlink" title="slice 数组切片"></a>slice 数组切片</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>];</span><br><span class="line"><span class="keyword">var</span> arr1 = arr.slice(<span class="number">1</span>,<span class="number">4</span>);</span><br><span class="line"><span class="keyword">var</span> arr2 = arr.slice(<span class="number">-3</span>,<span class="number">-1</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(arr1);</span><br><span class="line"><span class="built_in">console</span>.log(arr2);</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">[ <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span> ]</span><br><span class="line">[ <span class="number">2</span>, <span class="number">3</span> ]</span><br></pre></td></tr></table></figure>
<h2 id="splice-插入删除替换"><a href="#splice-插入删除替换" class="headerlink" title="splice 插入删除替换"></a>splice 插入删除替换</h2><ul>
<li>语法</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">splice(index, count_to_remove, &lt;<span class="built_in">Array</span>&gt; )</span><br></pre></td></tr></table></figure>
<ul>
<li>插入</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>];</span><br><span class="line">arr.splice(<span class="number">3</span>, <span class="number">0</span>, <span class="string">"a"</span>, <span class="string">"b"</span>, <span class="string">"c"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(arr);</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">[ <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="number">4</span> ]</span><br></pre></td></tr></table></figure>
<ul>
<li>追加</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>];</span><br><span class="line">arr.splice(<span class="number">3</span>, <span class="number">3</span>, <span class="string">"a"</span>, <span class="string">"b"</span>, <span class="string">"c"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(arr);</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">[ <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span> ]</span><br></pre></td></tr></table></figure>
<ul>
<li>替换</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>];</span><br><span class="line">arr.splice(<span class="number">0</span>, <span class="number">2</span>, <span class="string">"a"</span>, <span class="string">"b"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(arr);</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">[ <span class="string">'a'</span>, <span class="string">'b'</span>, <span class="number">3</span>, <span class="number">4</span> ]</span><br></pre></td></tr></table></figure>
<ul>
<li>删除一段</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> arr1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>];</span><br><span class="line"><span class="keyword">var</span> arr2 = arr1.splice(<span class="number">0</span>, <span class="number">3</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(arr1);</span><br><span class="line"><span class="built_in">console</span>.log(arr2);</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">[ <span class="number">4</span> ]</span><br><span class="line">[ <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span> ]</span><br></pre></td></tr></table></figure>
<ul>
<li>删除到尾部</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> arr1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>];</span><br><span class="line"><span class="keyword">var</span> arr2 = arr1.splice(<span class="number">-2</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(arr1);</span><br><span class="line"><span class="built_in">console</span>.log(arr2);</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">[ <span class="number">1</span>, <span class="number">2</span> ]</span><br><span class="line">[ <span class="number">3</span>, <span class="number">4</span> ]</span><br></pre></td></tr></table></figure>
<h2 id="reverse-顺序反转"><a href="#reverse-顺序反转" class="headerlink" title="reverse 顺序反转"></a>reverse 顺序反转</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> arr1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>];</span><br><span class="line">arr1.reverse();</span><br><span class="line"><span class="built_in">console</span>.log(arr1);</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">[ <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span> ]</span><br></pre></td></tr></table></figure>
<h2 id="sort-排序"><a href="#sort-排序" class="headerlink" title="sort 排序"></a>sort 排序</h2><p><code>sort()</code> 默认按照字符顺序进行排序，如果字符都一样，那么按照字符串的长度排序。</p>
<p><code>sort()</code> 可以接收一个函数用于判定元素的比较结果，该函数对两个值进行比较并且返回以下三个值之一：</p>
<ul>
<li>如果在排序方式中 <code>a</code> 小于 <code>b</code>，则返回 -1 (或任何负数)</li>
<li>如果在排序方式中 <code>a</code> 大于 <code>b，则返回 1</code> (或任意正数)</li>
<li>如果 <code>a</code> 和 <code>b</code> 被认为相等，则返回 0。</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> arr1 = [<span class="number">4</span>, <span class="number">2</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">8</span>, <span class="number">0</span>, <span class="number">32</span>];</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">contrast</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (a &gt; b) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (a &lt; b) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (a == b) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">arr1.sort(contrast);</span><br><span class="line"><span class="built_in">console</span>.log(arr1);</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">[ <span class="number">0</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">8</span>, <span class="number">32</span> ]</span><br></pre></td></tr></table></figure>
<ul>
<li>按照字符串长度排序，默认按照字符排序，字符一样的情况按照长度排</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> arr1 = [<span class="string">"★"</span>, <span class="string">"★★★"</span>,<span class="string">"★★"</span>,<span class="string">"★★★★"</span>,<span class="string">"★★★★"</span>,<span class="string">"★★★★★★"</span>,<span class="string">"★★★★★"</span>];</span><br><span class="line">arr1.sort();</span><br><span class="line"><span class="built_in">console</span>.log(arr1);</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">[ <span class="string">'★'</span>, <span class="string">'★★'</span>, <span class="string">'★★★'</span>, <span class="string">'★★★★'</span>, <span class="string">'★★★★'</span>, <span class="string">'★★★★★'</span>, <span class="string">'★★★★★★'</span> ]</span><br></pre></td></tr></table></figure>
<h2 id="join-拼接字符串"><a href="#join-拼接字符串" class="headerlink" title="join 拼接字符串"></a>join 拼接字符串</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line"><span class="keyword">var</span> arr1 = arr.join()</span><br><span class="line"><span class="built_in">console</span>.log(arr1)</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line"><span class="keyword">var</span> arr1 = arr.join(<span class="string">"-"</span>)</span><br><span class="line"><span class="built_in">console</span>.log(arr1)</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="number">1</span><span class="number">-2</span><span class="number">-3</span><span class="number">-4</span></span><br></pre></td></tr></table></figure>
<h2 id="indexOf-正向查找"><a href="#indexOf-正向查找" class="headerlink" title="indexOf 正向查找"></a>indexOf 正向查找</h2><p>从开头指定的位置开始查找元素，返回所在索引，<code>indexOf(searchElement[, fromIndex])</code>。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'a'</span>];</span><br><span class="line"><span class="built_in">console</span>.log(</span><br><span class="line">    arr.indexOf(<span class="string">'b'</span>),</span><br><span class="line">    arr.indexOf(<span class="string">'b'</span>, <span class="number">2</span>),</span><br><span class="line">    arr.indexOf(<span class="string">'z'</span>)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="number">1</span> <span class="number">3</span> <span class="number">-1</span></span><br></pre></td></tr></table></figure>
<h2 id="lastIndexOf-反向查找"><a href="#lastIndexOf-反向查找" class="headerlink" title="lastIndexOf 反向查找"></a>lastIndexOf 反向查找</h2><p>从尾部指定的位置开始查找元素，返回所在索引，<code>lastIndexOf(searchElement[, fromIndex])</code>。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'a'</span>];</span><br><span class="line"><span class="built_in">console</span>.log(</span><br><span class="line">    arr.lastIndexOf(<span class="string">'b'</span>),</span><br><span class="line">    arr.lastIndexOf(<span class="string">'b'</span>, <span class="number">4</span>),</span><br><span class="line">    arr.lastIndexOf(<span class="string">'z'</span>)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="number">3</span> <span class="number">3</span> <span class="number">-1</span></span><br></pre></td></tr></table></figure>
<h2 id="forEach-遍历并处理"><a href="#forEach-遍历并处理" class="headerlink" title="forEach 遍历并处理"></a>forEach 遍历并处理</h2><p>forEach() 方法用于调用数组的每个元素，并将元素传递给回调函数，用法：<code>array.forEach(function(currentValue, index, arr), thisValue)</code></p>
<table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><em>function(currentValue, index, arr)</em></td>
<td>必需。 数组中每个元素需要调用的函数。 函数参数:参数描述<em>currentValue</em>必需。当前元素<em>index</em>可选。当前元素的索引值。<em>arr</em>可选。当前元素所属的数组对象。</td>
</tr>
<tr>
<td><em>thisValue</em></td>
<td>可选。传递给函数的值一般用 “this” 值。 如果这个参数为空， “undefined” 会传递给 “this” 值</td>
</tr>
</tbody>
</table>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>];</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">a</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(++a);</span><br><span class="line">&#125;</span><br><span class="line">arr.forEach(add);</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="number">2</span></span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="number">4</span></span><br><span class="line"><span class="number">5</span></span><br></pre></td></tr></table></figure>
<h2 id="map-映射新数组"><a href="#map-映射新数组" class="headerlink" title="map 映射新数组"></a>map 映射新数组</h2><p>map() 方法返回一个新数组，数组中的元素为原始数组元素调用函数处理后的，<code>array.map(function(currentValue,index,arr), thisValue)</code>，map() 不会改变原始数组。</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>function(currentValue, index,arr)</td>
<td>必须。函数，数组中的每个元素都会执行这个函数 函数参数: 参数描述<em>currentValue</em>必须。当前元素的值<em>index</em>可选。当前元素的索引值<em>arr</em>可选。当前元素属于的数组对象</td>
</tr>
<tr>
<td><em>thisValue</em></td>
<td>可选。对象作为该执行回调时使用，传递给函数，用作 “this” 的值。 如果省略了 thisValue，或者传入 null、undefined，那么回调函数的 this 为全局对象。</td>
</tr>
</tbody>
</table>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>];</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">a</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> ++a;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> arr1 = arr.map(add);</span><br><span class="line"><span class="built_in">console</span>.log(arr1);</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">[ <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span> ]</span><br></pre></td></tr></table></figure>
<h2 id="filter-过滤产生新数组"><a href="#filter-过滤产生新数组" class="headerlink" title="filter 过滤产生新数组"></a>filter 过滤产生新数组</h2><p>filter() 方法创建一个新的数组，新数组中的元素是通过检查指定数组中符合条件的所有元素。</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><em>function(currentValue, index,arr)</em></td>
<td>必须。函数，数组中的每个元素都会执行这个函数 函数参数: 参数描述<em>currentValue</em>必须。当前元素的值<em>index</em>可选。当前元素的索引值<em>arr</em>可选。当前元素属于的数组对象</td>
</tr>
<tr>
<td><em>thisValue</em></td>
<td>可选。对象作为该执行回调时使用，传递给函数，用作 “this” 的值。 如果省略了 thisValue ，”this” 的值为 “undefined”</td>
</tr>
</tbody>
</table>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>];</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fun</span>(<span class="params">a</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (a % <span class="number">2</span> == <span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> a;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> arr1 = arr.filter(fun);</span><br><span class="line"><span class="built_in">console</span>.log(arr1);</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">[ <span class="number">2</span>, <span class="number">4</span> ]</span><br></pre></td></tr></table></figure>
<h2 id="reduce累加器"><a href="#reduce累加器" class="headerlink" title="reduce累加器"></a>reduce累加器</h2><p>reduce 方法对数组中的每个元素回调函数，将其结果汇总为单个返回值，</p>
<ul>
<li>语法，callback 为回调函数，initialValue 作为第一次调用 callback 函数时的第一个参数的值。</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">arr.reduce(callback, [initialValue])</span><br></pre></td></tr></table></figure>
<ul>
<li>callback 回调函数</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">callback</span>(<span class="params">accumulator,currentValue,currentIndex,array</span>) </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>callback 参数</li>
</ul>
<table>
<thead>
<tr>
<th>参数</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td>accumulator</td>
<td>它是上一次调用回调时返回的累积值</td>
</tr>
<tr>
<td>currentValue</td>
<td>数组中正在处理的元素。</td>
</tr>
<tr>
<td>currentIndex</td>
<td>数组中正在处理的当前元素的索引。</td>
</tr>
<tr>
<td>array</td>
<td>调用 reduce() 方法的数组</td>
</tr>
</tbody>
</table>
<ul>
<li>找出数组中的最大值</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">13</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">76</span>, <span class="number">88</span>, <span class="number">33</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">callback</span>(<span class="params">accumulator,currentValue,currentIndex,array</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(accumulator,currentValue)</span><br><span class="line">    <span class="keyword">if</span>(accumulator &gt; currentValue)&#123;</span><br><span class="line">        <span class="keyword">return</span> accumulator</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> currentValue</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">arr.reduce(callback)</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="number">13</span> <span class="number">13</span></span><br><span class="line"><span class="number">13</span> <span class="number">5</span></span><br><span class="line"><span class="number">13</span> <span class="number">6</span></span><br><span class="line"><span class="number">13</span> <span class="number">76</span></span><br><span class="line"><span class="number">76</span> <span class="number">88</span></span><br><span class="line"><span class="number">88</span> <span class="number">33</span></span><br></pre></td></tr></table></figure>
<ul>
<li>注意 initialValue 参数</li>
</ul>
<p>如果调用 reduce() 时提供了 initialValue，accumulator 取值为 initialValue，currentValue 取数组中的第一个值；如果没有提供 initialValue，那么 accumulator 取数组中的第一个值，currentValue 取数组中的第二个值。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">13</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">76</span>, <span class="number">88</span>, <span class="number">33</span>];</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">callback</span>(<span class="params">accumulator,currentValue,currentIndex,array</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(accumulator,currentValue)</span><br><span class="line">    <span class="keyword">if</span>(accumulator &gt; currentValue)&#123;</span><br><span class="line">        <span class="keyword">return</span> accumulator</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> currentValue</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">arr.reduce(callback,arr[<span class="number">0</span>])</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">13 13</span><br><span class="line">13 5</span><br><span class="line">13 6</span><br><span class="line">13 76</span><br><span class="line">76 88</span><br><span class="line">88 33</span><br></pre></td></tr></table></figure>
<h2 id="every-严格检查数组"><a href="#every-严格检查数组" class="headerlink" title="every 严格检查数组"></a>every 严格检查数组</h2><p>every() 方法用于检测数组所有元素是否都符合指定条件（通过函数提供），如果有一个元素返回 false，则整个表达式失败。</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><em>function(currentValue, index,arr)</em></td>
<td>必须。函数，数组中的每个元素都会执行这个函数 函数参数: 参数 currentValue 表示当前元素的值，参数 index 当前元素的索引，参数 arr 当前元素属于的数组对象，函数的返回值决定了新数组中是否被保留，返回 true 表示保留，false 则不保留。</td>
</tr>
<tr>
<td><em>thisValue</em></td>
<td>可选。对象作为该执行回调时使用，传递给函数，用作 “this” 的值。 如果省略了 thisValue ，”this” 的值为 “undefined”</td>
</tr>
</tbody>
</table>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>];</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fun</span>(<span class="params">a</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">typeof</span> a == <span class="string">"number"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> arr1 = arr.every(fun);</span><br><span class="line"><span class="built_in">console</span>.log(arr1);</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="literal">true</span></span><br></pre></td></tr></table></figure>
<h2 id="some-宽松检查"><a href="#some-宽松检查" class="headerlink" title="some 宽松检查"></a>some 宽松检查</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="string">"a"</span>,<span class="string">"b"</span>,<span class="string">"c"</span>];</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fun</span>(<span class="params">a</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">typeof</span> a == <span class="string">"number"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> arr1 = arr.some(fun);</span><br><span class="line"><span class="built_in">console</span>.log(arr1);</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="literal">true</span></span><br></pre></td></tr></table></figure>
<h2 id="of-方法"><a href="#of-方法" class="headerlink" title="of 方法"></a>of 方法</h2><ul>
<li>转换为数组</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = <span class="built_in">Array</span>.of(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>);</span><br><span class="line"><span class="built_in">console</span>.log(arr);</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">[ <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span> ]</span><br></pre></td></tr></table></figure>
<h2 id="Array-find-查找"><a href="#Array-find-查找" class="headerlink" title="Array.find 查找"></a>Array.find 查找</h2><ul>
<li>寻找复合条件的第一项</li>
</ul>
<p>寻找符合条件的第一项</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = <span class="built_in">Array</span>.of(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">func</span>(<span class="params">value,index,arr</span>)</span>&#123;</span><br><span class="line">    <span class="comment">// 接收值，索引，数组，可以打开注释查看</span></span><br><span class="line">    <span class="comment">// console.log(value,index,arr);</span></span><br><span class="line">    <span class="comment">// 自己写判断逻辑，挑出符合条件的</span></span><br><span class="line">    <span class="keyword">if</span>(value % <span class="number">2</span> == <span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> item = arr.find(func);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(item);</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="number">2</span></span><br></pre></td></tr></table></figure>
<h2 id="Array-includes"><a href="#Array-includes" class="headerlink" title="Array.includes"></a>Array.includes</h2><p>判断一个值是否存在</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="string">"白板"</span>,<span class="string">"幺鸡"</span>,<span class="string">"二条"</span>,<span class="string">"三丙"</span>,<span class="string">"四间"</span>];</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(arr.includes(<span class="string">"幺鸡"</span>));</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="literal">true</span></span><br></pre></td></tr></table></figure>
<h1 id="正则表达式"><a href="#正则表达式" class="headerlink" title="正则表达式"></a>正则表达式</h1><h2 id="匹配方法"><a href="#匹配方法" class="headerlink" title="匹配方法"></a>匹配方法</h2><table>
<thead>
<tr>
<th>方法</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>exec</code></td>
<td>从文本开头匹配，返回一个数组，如果正则表达式有分组，则返回一个带分组匹配到的数据，和仅分组数据，如果加 <code>g</code> 则表示全局匹配</td>
</tr>
<tr>
<td><code>test</code></td>
<td>使用模式匹配文本，如果成功匹配则返回 true。</td>
</tr>
<tr>
<td><code>match</code></td>
<td>一个在字符串中执行查找匹配的String方法，它返回一个数组或者在未匹配到时返回null。</td>
</tr>
<tr>
<td><code>search</code></td>
<td>一个在字符串中测试匹配的String方法，它返回匹配到的位置索引，或者在失败时返回-1。</td>
</tr>
<tr>
<td><code>replace</code></td>
<td>一个在字符串中执行查找匹配的String方法，并且使用替换字符串替换掉匹配到的子字符串。</td>
</tr>
<tr>
<td><code>split</code></td>
<td>一个使用正则表达式或者一个固定字符串分隔一个字符串，并将分隔后的子字符串存储到数组中的String方法。</td>
</tr>
</tbody>
</table>
<ul>
<li>可用标志</li>
</ul>
<table>
<thead>
<tr>
<th>标志</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>g</code></td>
<td>全局搜索。</td>
</tr>
<tr>
<td><code>i</code></td>
<td>不区分大小写搜索。</td>
</tr>
<tr>
<td><code>m</code></td>
<td>多行搜索，不加 <code>m</code> 的时候也是多行搜索，但加了 <code>m</code> 那么可以在模式中使用 <code>^</code> 这样的匹配方式，来进行多行匹配了。</td>
</tr>
<tr>
<td><code>y</code></td>
<td>执行“粘性”搜索,匹配从目标字符串的当前位置开始，可以使用 <code>y</code> 标志。</td>
</tr>
</tbody>
</table>
<h2 id="新建对象"><a href="#新建对象" class="headerlink" title="新建对象"></a>新建对象</h2><ul>
<li>新建对象</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> re = <span class="regexp">/模式/</span>标志;</span><br></pre></td></tr></table></figure>
<h2 id="内置方法"><a href="#内置方法" class="headerlink" title="内置方法"></a>内置方法</h2><ul>
<li>test 方法，测试数据是否匹配正则</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> rep = <span class="regexp">/\d+/</span>;</span><br><span class="line">rep.test(<span class="string">"test1234test"</span>)</span><br><span class="line"></span><br><span class="line"><span class="literal">true</span>    <span class="comment">// 返回了true</span></span><br></pre></td></tr></table></figure>
<ul>
<li>exec 方法，获取匹配到的数据，返回为数组</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> rep = <span class="regexp">/\d+/</span>;</span><br><span class="line">rep.exec(<span class="string">"test1234test"</span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">rep.exec(<span class="string">"test1234test"</span>)</span><br><span class="line">[<span class="string">"1234"</span>, <span class="attr">index</span>: <span class="number">4</span>, <span class="attr">input</span>: <span class="string">"test1234test"</span>, <span class="attr">groups</span>: <span class="literal">undefined</span>]</span><br><span class="line">rep.exec(<span class="string">"test1234test"</span>)[<span class="number">0</span>]</span><br><span class="line"><span class="string">"1234"</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">str = <span class="string">"yangjinheng1 liying2 yangzhongxiao3 lina4 yangyanjun5 lijinna6"</span></span><br><span class="line"><span class="string">"yangjinheng1 liying2 yangzhongxiao3 lina4 yangyanjun5 lijinna6"</span></span><br><span class="line">rep = <span class="regexp">/([a-z]+[0-9]+)/g</span>;</span><br><span class="line">/([a-z]+[<span class="number">0</span><span class="number">-9</span>]+)/g</span><br><span class="line">rep.exec(str)</span><br><span class="line">(<span class="number">2</span>) [<span class="string">"yangjinheng1"</span>, <span class="string">"yangjinheng1"</span>, <span class="attr">index</span>: <span class="number">0</span>, <span class="attr">input</span>: <span class="string">"yangjinheng1 liying2 yangzhongxiao3 lina4 yangyanjun5 lijinna6"</span>, <span class="attr">groups</span>: <span class="literal">undefined</span>]</span><br><span class="line"></span><br><span class="line">rep.exec(str)</span><br><span class="line">(<span class="number">2</span>) [<span class="string">"liying2"</span>, <span class="string">"liying2"</span>, <span class="attr">index</span>: <span class="number">13</span>, <span class="attr">input</span>: <span class="string">"yangjinheng1 liying2 yangzhongxiao3 lina4 yangyanjun5 lijinna6"</span>, <span class="attr">groups</span>: <span class="literal">undefined</span>]</span><br><span class="line"></span><br><span class="line">rep.exec(str)</span><br><span class="line">(<span class="number">2</span>) [<span class="string">"yangzhongxiao3"</span>, <span class="string">"yangzhongxiao3"</span>, <span class="attr">index</span>: <span class="number">21</span>, <span class="attr">input</span>: <span class="string">"yangjinheng1 liying2 yangzhongxiao3 lina4 yangyanjun5 lijinna6"</span>, <span class="attr">groups</span>: <span class="literal">undefined</span>]</span><br><span class="line"></span><br><span class="line">rep.exec(str)</span><br><span class="line">(<span class="number">2</span>) [<span class="string">"lina4"</span>, <span class="string">"lina4"</span>, <span class="attr">index</span>: <span class="number">36</span>, <span class="attr">input</span>: <span class="string">"yangjinheng1 liying2 yangzhongxiao3 lina4 yangyanjun5 lijinna6"</span>, <span class="attr">groups</span>: <span class="literal">undefined</span>]</span><br><span class="line"></span><br><span class="line">rep.exec(str)</span><br><span class="line">(<span class="number">2</span>) [<span class="string">"yangyanjun5"</span>, <span class="string">"yangyanjun5"</span>, <span class="attr">index</span>: <span class="number">42</span>, <span class="attr">input</span>: <span class="string">"yangjinheng1 liying2 yangzhongxiao3 lina4 yangyanjun5 lijinna6"</span>, <span class="attr">groups</span>: <span class="literal">undefined</span>]</span><br><span class="line"></span><br><span class="line">rep.exec(str)</span><br><span class="line">(<span class="number">2</span>) [<span class="string">"lijinna6"</span>, <span class="string">"lijinna6"</span>, <span class="attr">index</span>: <span class="number">54</span>, <span class="attr">input</span>: <span class="string">"yangjinheng1 liying2 yangzhongxiao3 lina4 yangyanjun5 lijinna6"</span>, <span class="attr">groups</span>: <span class="literal">undefined</span>]</span><br><span class="line"></span><br><span class="line">rep.exec(str)</span><br><span class="line"><span class="literal">null</span></span><br></pre></td></tr></table></figure>
<h1 id="面向对象"><a href="#面向对象" class="headerlink" title="面向对象"></a>面向对象</h1><p><code>javascript</code> 中创建对象有：字面量直接创建，构造函数。</p>
<ul>
<li>JSON与对象区别</li>
</ul>
<p>JSON 键值对中的键必须加引号，而对象不用加，但是有些特殊情况也需要加引号。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="number">1.</span> 键是特殊字符</span><br><span class="line"><span class="number">2.</span> 键是数字</span><br><span class="line"><span class="number">3.</span> 键有空格</span><br><span class="line"><span class="number">4.</span> 键是保留字</span><br></pre></td></tr></table></figure>
<h2 id="对象基本概念"><a href="#对象基本概念" class="headerlink" title="对象基本概念"></a>对象基本概念</h2><p>对象就是属性和方法的集合，例如：小明这个对象，他的名字叫：小明、年龄：30岁、性别：男，那么下面就在计算机中描述一个小明这个对象。</p>
<h3 id="字面量创建"><a href="#字面量创建" class="headerlink" title="字面量创建"></a>字面量创建</h3><p>字面量创建就是直接在大括号内用 <code>K/V</code> 的形式列出对象拥有的属性和方法，所见即所得，这就是一个实例对象。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    name : <span class="string">"xiaoming"</span>,</span><br><span class="line">    age : <span class="number">30</span>,</span><br><span class="line">    sex : <span class="string">"男"</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(obj);</span><br><span class="line"><span class="built_in">console</span>.log(obj.name);</span><br><span class="line"><span class="built_in">console</span>.log(obj[<span class="string">"name"</span>]);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> obj);</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&#123; <span class="attr">name</span>: <span class="string">'xiaoming'</span>, <span class="attr">age</span>: <span class="number">30</span>, <span class="attr">sex</span>: <span class="string">'男'</span> &#125;</span><br><span class="line">jinheng</span><br><span class="line">jinheng</span><br><span class="line">object</span><br></pre></td></tr></table></figure>
<h3 id="对象的访问"><a href="#对象的访问" class="headerlink" title="对象的访问"></a>对象的访问</h3><p>点语法是有局限性的，它不能访问键为特殊符号的对象属性，也不能访问键为变量的对象属性。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    <span class="string">"123"</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="string">"all name"</span>: <span class="number">2</span>,</span><br><span class="line">    <span class="string">"+++--"</span>: <span class="number">3</span>,</span><br><span class="line">    <span class="string">"var"</span>: <span class="number">4</span>,</span><br><span class="line">    <span class="string">"function"</span>: <span class="number">5</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(obj[<span class="string">"123"</span>]);</span><br><span class="line"><span class="built_in">console</span>.log(obj[<span class="string">"all name"</span>]);</span><br><span class="line"><span class="built_in">console</span>.log(obj[<span class="string">"+++--"</span>]);</span><br><span class="line"><span class="built_in">console</span>.log(obj[<span class="string">"var"</span>]);</span><br><span class="line"><span class="built_in">console</span>.log(obj[<span class="string">"function"</span>]);</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="number">4</span></span><br><span class="line"><span class="number">5</span></span><br></pre></td></tr></table></figure>
<h3 id="对象属性值"><a href="#对象属性值" class="headerlink" title="对象属性值"></a>对象属性值</h3><p>对象属性值可以是任何东西，比如：数字，字符串，布尔值，正则表达式，对象，数组，函数</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    a: <span class="number">1</span>,</span><br><span class="line">    b: <span class="string">"哈哈"</span>,</span><br><span class="line">    c: <span class="literal">true</span>,</span><br><span class="line">    d: <span class="regexp">/[0-9]+/g</span>,</span><br><span class="line">    e: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.a;</span><br><span class="line">    &#125;,</span><br><span class="line">    f: &#123;</span><br><span class="line">        p: <span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(obj.a);</span><br><span class="line"><span class="built_in">console</span>.log(obj.e());</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<h3 id="对象的方法"><a href="#对象的方法" class="headerlink" title="对象的方法"></a>对象的方法</h3><p>当对象的属性值是一个函数的时候，我们称为对象的一个方法，方法函数里的 <code>this</code> 指的就是这个对象本身。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    name: <span class="string">"jinheng"</span>,</span><br><span class="line">    hello: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"hello, i am "</span> + <span class="keyword">this</span>.name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">obj.hello();</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">hello, i am jinheng</span><br></pre></td></tr></table></figure>
<h2 id="对象构造函数"><a href="#对象构造函数" class="headerlink" title="对象构造函数"></a>对象构造函数</h2><p><code>new</code> 是一个运算符，表示新创建一个对象，实际上 <code>new</code> 是一个函数的调用方式，<code>Object</code> 是一个系统内置的对象构造函数，对象构造函数可以创造出对象实例，所以构造器可以称为一个类。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line"></span><br><span class="line">obj.name = <span class="string">"jinheng"</span>;</span><br><span class="line">obj.age = <span class="number">18</span>;</span><br><span class="line">obj.sex = <span class="string">"男"</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(obj);</span><br><span class="line"><span class="built_in">console</span>.log(obj.name);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> obj);</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&#123; <span class="attr">name</span>: <span class="string">'jinheng'</span>, <span class="attr">age</span>: <span class="number">18</span>, <span class="attr">sex</span>: <span class="string">'男'</span> &#125;</span><br><span class="line">jinheng</span><br><span class="line">object</span><br></pre></td></tr></table></figure>
<h3 id="new-的过程"><a href="#new-的过程" class="headerlink" title="new 的过程"></a>new 的过程</h3><p><code>javascript</code> 规定，一个函数可以用 <code>new</code> 关键字来调用，那么此时将按顺序发生四件事情：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="number">1.</span>  隐秘的创建一个新的空对象</span><br><span class="line"><span class="number">2.</span>  将这个函数里面的 <span class="string">`this`</span> 绑定到刚才创建的隐秘新对象上</span><br><span class="line"><span class="number">3.</span>  执行函数体里面的语句</span><br><span class="line"><span class="number">4.</span>  返回这个新对象</span><br></pre></td></tr></table></figure>
<p>也就是说，函数不仅能够执行，还能返回出来一个对象，也就是说对象是函数创造出来的，对象是函数 <code>new</code> 出来的，我们称这个函数为构造函数。</p>
<p><code>javascript</code> 通过构造函数四个步骤的机制来创建对象，可以将这个构造函数看作类，但是 <code>javascript</code> 这个语言是 <strong>基于对象</strong> 的语言，不能叫做 <strong>面向对象</strong> 的语言。</p>
<p>一般的构造函数用大写字母开头，所以当我们遇到<strong>大写开头的函数</strong>，可以知道它是一个构造函数。</p>
<ul>
<li>需要注意</li>
</ul>
<ol>
<li>构造函数内必须有 <code>this</code> 关键字</li>
<li>构造函数不允许出现 <code>return</code> 语句</li>
</ol>
<ul>
<li>构造函数的使用</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">People</span>(<span class="params">name, age</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">    <span class="keyword">this</span>.age = age;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> jinheng = <span class="keyword">new</span> People(<span class="string">"jinheng"</span>, <span class="number">30</span>);</span><br><span class="line"><span class="keyword">var</span> zhongxiao = <span class="keyword">new</span> People(<span class="string">"zhongxiao"</span>, <span class="number">27</span>);</span><br><span class="line"><span class="built_in">console</span>.log(jinheng.name);</span><br><span class="line"><span class="built_in">console</span>.log(zhongxiao.name);</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">jinheng</span><br><span class="line">zhongxiao</span><br></pre></td></tr></table></figure>
<ul>
<li>工厂模式，自己模拟 <code>new</code> 的四步，这个不常用</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createpeople</span>(<span class="params">name, age</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> obj = &#123;&#125;;</span><br><span class="line">    obj.name = name;</span><br><span class="line">    obj.age = age;</span><br><span class="line">    <span class="keyword">return</span> obj;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> jinheng = createpeople(<span class="string">"jinheng"</span>, <span class="number">30</span>);</span><br><span class="line"><span class="keyword">var</span> zhongxiao = createpeople(<span class="string">"zhongxiao"</span>, <span class="number">27</span>);</span><br><span class="line"><span class="built_in">console</span>.log(jinheng.name);</span><br><span class="line"><span class="built_in">console</span>.log(zhongxiao.name);</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">jinheng</span><br><span class="line">zhongxiao</span><br></pre></td></tr></table></figure>
<h3 id="this-上下文总结"><a href="#this-上下文总结" class="headerlink" title="this 上下文总结"></a>this 上下文总结</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">- 直接用()运算符来调用某个函数，那么函数的 <span class="keyword">this</span> 指的是 <span class="built_in">window</span> 对象</span><br><span class="line">- 函数如果绑定给了某个 HTML 元素的时间上，那么函数里面的 <span class="keyword">this</span> 就是这个 HTML 对象</span><br><span class="line">- 用定时器调用函数，函数内部 <span class="keyword">this</span> 就是 <span class="built_in">window</span> 对象</span><br><span class="line">- 用对象打点方式来调用函数，函数里面的 <span class="keyword">this</span> 指的是这个对象</span><br><span class="line">- 用 apply、call 可以人工设置函数里面的 <span class="keyword">this</span> 是谁</span><br><span class="line">- 当一个函数用 <span class="keyword">new</span> 调用的时候，<span class="keyword">this</span> 就是隐秘创建的控对象</span><br></pre></td></tr></table></figure>
<h2 id="原型与原型链"><a href="#原型与原型链" class="headerlink" title="原型与原型链"></a>原型与原型链</h2><h3 id="什么是原型"><a href="#什么是原型" class="headerlink" title="什么是原型"></a>什么是原型</h3><p>每个函数都有 <code>prototype</code> 属性，这个属性值是一个对象，当这个函数是一个构造函数的时候，那么它 <code>new</code> 出来的每个实例的原型对象（<code>__proto__</code> ）都是构造函数的 <code>prototype</code> 属性中的对象。</p>
<ul>
<li>下面这个构造函数没有任何语句，创建出来的对象没有任何属性。</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">People</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>修改构造函数的原型</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">People.prototype = &#123;</span><br><span class="line">    name: <span class="string">"jinheng"</span>,</span><br><span class="line">    sex: <span class="string">"man"</span>,</span><br><span class="line">    age: <span class="number">30</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>当一个对象被 <code>new</code> 出来时候，也会把这个对象的 <code>__proto__</code> 指向构造函数 <code>prototype</code></li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> jinheng = <span class="keyword">new</span> People();</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(jinheng.__proto__);</span><br><span class="line"><span class="built_in">console</span>.log(jinheng.__proto__ == People.prototype);</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&#123; <span class="attr">name</span>: <span class="string">'jinheng'</span>, <span class="attr">sex</span>: <span class="string">'man'</span>, <span class="attr">age</span>: <span class="number">30</span> &#125;</span><br><span class="line"><span class="literal">true</span></span><br></pre></td></tr></table></figure>
<ul>
<li>当我们试图访问对象的属性不存在，那么就去查找原型</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">console.log(jinheng.name);</span><br><span class="line">console.log(jinheng.age);</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">jinheng</span><br><span class="line"><span class="number">30</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>当我们试图访问实例身上没有的属性或方法，此时浏览器就会检查它的原型对象，在原型对象找到这个属性就返回。</p>
</blockquote>
<h3 id="原型的用途"><a href="#原型的用途" class="headerlink" title="原型的用途"></a>原型的用途</h3><p>当我们在写构造函数的时候，如果将方法也写在构造函数里，那么经过 <code>new</code> 执行后会将构造器内定义的每个属性和方法复制到实例对象中。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">People</span>(<span class="params">name,age</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">    <span class="keyword">this</span>.age = age;</span><br><span class="line">    <span class="keyword">this</span>.seyhello = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.name,<span class="keyword">this</span>.age);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> jinheng = <span class="keyword">new</span> People(<span class="string">"jinheng"</span>,<span class="number">30</span>);</span><br><span class="line"><span class="keyword">var</span> zhongxiao = <span class="keyword">new</span> People(<span class="string">"zhongxiao"</span>,<span class="number">27</span>);</span><br><span class="line"></span><br><span class="line">jinheng.seyhello();</span><br><span class="line">zhongxiao.seyhello();</span><br><span class="line"><span class="built_in">console</span>.log(jinheng.seyhello == zhongxiao.seyhello);</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">jinheng <span class="number">30</span></span><br><span class="line">zhongxiao <span class="number">27</span></span><br><span class="line"><span class="literal">false</span></span><br></pre></td></tr></table></figure>
<p>每个实例都保存了相同功能的函数，而函数天生要被复用，所以这是一种浪费，如果把方法放在原型中，那么构造出来的每个实例对象就可以访问同一个方法了。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">People</span>(<span class="params">name,age</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">    <span class="keyword">this</span>.age = age;</span><br><span class="line">&#125;</span><br><span class="line">People.prototype.seyhello = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name,<span class="keyword">this</span>.age);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> jinheng = <span class="keyword">new</span> People(<span class="string">"jinheng"</span>,<span class="number">30</span>);</span><br><span class="line"><span class="keyword">var</span> zhongxiao = <span class="keyword">new</span> People(<span class="string">"zhongxiao"</span>,<span class="number">27</span>);</span><br><span class="line"></span><br><span class="line">jinheng.seyhello();</span><br><span class="line">zhongxiao.seyhello();</span><br><span class="line"><span class="built_in">console</span>.log(jinheng.seyhello == zhongxiao.seyhello);</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">jinheng <span class="number">30</span></span><br><span class="line">zhongxiao <span class="number">27</span></span><br><span class="line"><span class="literal">true</span></span><br></pre></td></tr></table></figure>
<p>所以，所有的构造函数设计时<strong>属性要绑在对象身上，而所有的方法应该定义在对象的原型对象中</strong>。</p>
<h3 id="原型链机制"><a href="#原型链机制" class="headerlink" title="原型链机制"></a>原型链机制</h3><p>每个实例对象的原型对象中都有 <code>constructor</code> 属性，这个属性指向构造函数本身，我们知道实例对象身上找不到的属性会去实例的原型对象去寻找，所以实例对象可以直接打点调用 <code>&lt;INSTANCE&gt;.constructor</code> 得到构造函数。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">People</span>(<span class="params">name, age</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">    <span class="keyword">this</span>.age = age;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> xiaobai = <span class="keyword">new</span> People(<span class="string">"jinheng"</span>,<span class="number">20</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(xiaobai.constructor);</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">ƒ People(name, age) &#123;</span><br><span class="line">            <span class="keyword">this</span>.name = name;</span><br><span class="line">            <span class="keyword">this</span>.age = age;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>
<p>我们知道实例对象的 <code>__proto__</code> 指向的是原型对象，那么原型对象的原型对象的构造器是谁呢？</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">People</span>(<span class="params">name, age</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">    <span class="keyword">this</span>.age = age;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> xiaobai = <span class="keyword">new</span> People(<span class="string">"jinheng"</span>,<span class="number">20</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(xiaobai.toString());</span><br><span class="line"><span class="built_in">console</span>.log(xiaobai.__proto__.__proto__.constructor);</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">[object <span class="built_in">Object</span>]</span><br><span class="line">ƒ <span class="built_in">Object</span>()</span><br></pre></td></tr></table></figure>
<ul>
<li>原型链</li>
</ul>
<p>实例对象身上没有 <code>toString</code> 方法，却能调用 <code>toString</code> 方法，原因就是 <code>javascript</code> 中每个对象都有 <code>__proto__</code> （原型对象）属性，而原型对象也是对象，也有 <code>__proto__</code> （原型对象）属性，一般方法都在原型对象中共享，所以沿着这个原型链寻找自己没有的方法。</p>
<p>实例没有 <code>toString</code> 方法，就去找原型对象的 <code>toString</code> 方法，原型对象也没有<code>toString</code> 方法，原型对象就去找自己的原型对象结果找到了<code>toString</code> 方法，这个方法是 <code>Object</code> 的方法。</p>
<ul>
<li>函数也是对象</li>
</ul>
<p><code>javascript</code> 中，函数是一等公民，函数也是对象，不同的是它可以执行，函数的构造函数是<code>Function</code>。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">func</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(func.__proto__.constructor);</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">ƒ <span class="built_in">Function</span>() &#123; [native code] &#125;</span><br></pre></td></tr></table></figure>
<p>给 <code>Function</code> 构造函数增加一个方法那么所有函数就有了这个方法。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Function</span>.prototype.haha = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"ok"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">func</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">func.haha();</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">ok</span><br></pre></td></tr></table></figure>
<ul>
<li>数组也是对象，找到数组的构造函数，为构造函数的原型增加一个方法，那么所有数组就有这个方法了。</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">5</span>,<span class="number">65</span>,<span class="number">9</span>,<span class="number">4</span>,<span class="number">32</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">45</span>,<span class="number">44</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">65</span>]</span><br><span class="line"><span class="built_in">console</span>.log(arr.constructor);</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">ƒ <span class="built_in">Array</span>() &#123; [native code] &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Array</span>.prototype.max = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> max = -<span class="literal">Infinity</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="keyword">this</span>.length; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>[i] &gt; max) &#123;</span><br><span class="line">            max = <span class="keyword">this</span>[i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> max;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">5</span>, <span class="number">65</span>, <span class="number">9</span>, <span class="number">4</span>, <span class="number">32</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">45</span>, <span class="number">44</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">65</span>]</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(arr.max());</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">55</span>, <span class="number">63</span>, <span class="number">2</span>, <span class="number">6</span>, <span class="number">765</span>, <span class="number">44</span>, <span class="number">3</span>,]</span><br><span class="line"><span class="built_in">console</span>.log(arr.max());</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="number">65</span></span><br><span class="line"><span class="number">765</span></span><br></pre></td></tr></table></figure>
<ul>
<li>基本类型值</li>
</ul>
<p>字符串有自己的包装类，字符串是包装类 <code>new</code> 出来的，虽然有原型对象，但是字符串不是对象。</p>
<h2 id="面向对象用途"><a href="#面向对象用途" class="headerlink" title="面向对象用途"></a>面向对象用途</h2><p>实际上 <code>javascript</code> 中面向对象的技术，已经成为了组织代码的方式。</p>
<p>比如页面上有一个轮播图，就一个，我们用 jQuery 写就行了，但是页面上有三个轮播图，那么这时候就有代码维护、公用的困难。所以就用面向对象来组织代码，这就是组件开发。</p>
<h2 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h2><p>子类的 <code>prototype</code> 等于父类的一个实例，就实现了父类的方法继承。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">People</span>(<span class="params">name, age, sex</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">    <span class="keyword">this</span>.age = age;</span><br><span class="line">    <span class="keyword">this</span>.sex = sex;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">People.prototype.saehello = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"i am People my name is"</span>, <span class="keyword">this</span>.name);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">People.prototype.eat = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name, <span class="string">"eat ing…………"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Student</span>(<span class="params">name, age, sex, id, flag</span>) </span>&#123;                <span class="comment">// 构造函数接受参数应该连父类的一起接收 </span></span><br><span class="line">    <span class="keyword">this</span>.name = name;                                       <span class="comment">// 初始化从父类继承的每个属性</span></span><br><span class="line">    <span class="keyword">this</span>.age = age;</span><br><span class="line">    <span class="keyword">this</span>.sex = sex;</span><br><span class="line"> <span class="comment">// this.constructor.apply(this,arguments);       // 用 apply 方法执行父类的构造函数，这样写初始化父类的属性更简单些</span></span><br><span class="line">    <span class="keyword">this</span>.id = id;</span><br><span class="line">    <span class="keyword">this</span>.flag = flag;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Student.prototype = <span class="keyword">new</span> People ();                          <span class="comment">// 继承了 People 的属性和方法</span></span><br><span class="line"></span><br><span class="line">Student.prototype.saehello = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;                  <span class="comment">// 重写方法</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"i am Student my id is"</span>, <span class="keyword">this</span>.id)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Student.prototype.study = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"learn ing…………"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Student.prototype.game = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"play games"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> jinheng = <span class="keyword">new</span> People(<span class="string">"yangjinheng"</span>, <span class="number">31</span>, <span class="string">"man"</span>);</span><br><span class="line">jinheng.saehello();</span><br><span class="line">jinheng.eat();</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> zhongxiao = <span class="keyword">new</span> Student(<span class="string">"yangzhongxiao"</span>, <span class="number">27</span>, <span class="string">"man"</span>, <span class="number">9527</span>, <span class="number">4</span>);    <span class="comment">// 继承后实现了父类的所有方法</span></span><br><span class="line">zhongxiao.saehello();</span><br><span class="line">zhongxiao.eat();</span><br><span class="line">zhongxiao.study();</span><br><span class="line">zhongxiao.game();</span><br></pre></td></tr></table></figure>
<h2 id="class-语法糖"><a href="#class-语法糖" class="headerlink" title="class 语法糖"></a>class 语法糖</h2><p><code>class</code> 是 ES6 新增的语法糖，能简化以前构造函数的写法，属性是通过 <code>constructor</code> 这来定义的，方法则会自动定义在构造器的 <code>prototype</code> 上，所以方法仍然属于类的。  </p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span> </span>&#123;                             <span class="comment">// 使用 class 语法糖来构建类</span></span><br><span class="line">    <span class="keyword">constructor</span>(x,y)&#123;                     <span class="comment">// 使用 constructor 构造器方法来实例化属性</span></span><br><span class="line">        <span class="keyword">this</span>.x = x;                       <span class="comment">// 使用 this 来表示实例本身</span></span><br><span class="line">        <span class="keyword">this</span>.y = y;</span><br><span class="line">    &#125;</span><br><span class="line">    who_this() &#123;                          <span class="comment">// 方法</span></span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    show() &#123;                              <span class="comment">// 方法</span></span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.x,<span class="keyword">this</span>.y);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> p1 = <span class="keyword">new</span> Point(<span class="number">10</span>,<span class="number">22</span>);                <span class="comment">// 使用 new 来实例化类</span></span><br><span class="line">p1.who_this();                            <span class="comment">// 执行类的方法</span></span><br><span class="line">p1.show();</span><br></pre></td></tr></table></figure>
<ul>
<li>继承</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point3D</span> <span class="keyword">extends</span> <span class="title">Point</span> </span>&#123;            <span class="comment">// 使用 extends 来继承一个类</span></span><br><span class="line">    <span class="keyword">constructor</span>(x,y,z) &#123;                 <span class="comment">// 使用 constructor 构造器来接收参数</span></span><br><span class="line">        <span class="keyword">super</span>(x,y);                      <span class="comment">// 调用父类的初始化方法来实例化自己的属性</span></span><br><span class="line">        <span class="keyword">this</span>.z = z;                      <span class="comment">// 将 new 传递来的参数给自身</span></span><br><span class="line">        <span class="keyword">this</span>.show = <span class="function"><span class="params">()</span> =&gt;</span> <span class="built_in">console</span>.log(<span class="string">'addr:'</span>,<span class="keyword">this</span>.x,<span class="string">'-'</span>,<span class="keyword">this</span>.y,<span class="string">'-'</span>,<span class="keyword">this</span>.z); <span class="comment">// 箭头函数方法</span></span><br><span class="line">    &#125;</span><br><span class="line">    who_this() &#123;                         <span class="comment">// 重写父类的方法</span></span><br><span class="line">        <span class="keyword">super</span>.who_this();                <span class="comment">// 调用父类的方法</span></span><br><span class="line">    &#125;</span><br><span class="line">    show () &#123;                             <span class="comment">// 重写以覆盖父类的方法</span></span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.x,<span class="keyword">this</span>.y,<span class="keyword">this</span>.z);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> p2 = <span class="keyword">new</span> Point3D(<span class="number">20</span>,<span class="number">21</span>,<span class="number">22</span>);</span><br><span class="line">p2.who_this();</span><br><span class="line">p2.show();</span><br></pre></td></tr></table></figure>
<ul>
<li>静态方法</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Add</span> </span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>(x,y) &#123;</span><br><span class="line">        <span class="keyword">this</span>.x = x;</span><br><span class="line">        <span class="keyword">this</span>.y = y;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">static</span> print() &#123;                        <span class="comment">// 静态方法</span></span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Add.print()</span><br></pre></td></tr></table></figure>
<blockquote>
<p>属性和方法冲突时候，优先使用属性</p>
</blockquote>
<ul>
<li>属性访问</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span> </span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>(x,y)&#123;</span><br><span class="line">        <span class="keyword">this</span>.x = x;</span><br><span class="line">        <span class="keyword">this</span>.y = y;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">get</span> sum() &#123;                            <span class="comment">// 当访问实例的 .sum 属性时候执行</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.x + <span class="keyword">this</span>.y;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">set</span> set_x(args) &#123;                      <span class="comment">// 当对 .set_x 设定值的时候执行</span></span><br><span class="line">        <span class="keyword">this</span>.x = args</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> point = <span class="keyword">new</span> Point(<span class="number">1</span>,<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(point.sum)</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(point.x)</span><br><span class="line">point.set_x = <span class="number">20</span></span><br><span class="line"><span class="built_in">console</span>.log(point.x)</span><br></pre></td></tr></table></figure>
<h2 id="…-语法"><a href="#…-语法" class="headerlink" title="… 语法"></a>… 语法</h2><ul>
<li>声明变量时 <code>...</code> 可以解构<strong>尾部</strong>剩余参数。</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">$ <span class="keyword">var</span> [a,b,...c] = [<span class="string">"白板"</span>,<span class="string">"幺鸡"</span>,<span class="string">"二条"</span>,<span class="string">"三丙"</span>,<span class="string">"四间"</span>];</span><br><span class="line">$ <span class="built_in">console</span>.log(a);</span><br><span class="line">$ <span class="built_in">console</span>.log(b);</span><br><span class="line">$ <span class="built_in">console</span>.log(c);</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">白板</span><br><span class="line">幺鸡</span><br><span class="line">[ &apos;二条&apos;, &apos;三丙&apos;, &apos;四间&apos; ]</span><br></pre></td></tr></table></figure>
<ul>
<li>传递参数的时候解构</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">func</span>(<span class="params">a,b,c</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(a,b,c);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func(...[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]);</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td></tr></table></figure>
<ul>
<li>对象扩充</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> data = &#123; <span class="string">"a"</span>: <span class="number">1</span>, <span class="string">"b"</span>: <span class="number">2</span>, <span class="string">"c"</span>: <span class="number">3</span> &#125;</span><br><span class="line"><span class="keyword">let</span> newdata = &#123; ...data, <span class="string">"d"</span>: <span class="number">3</span> &#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(newdata)</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123; a: 1, b: 2, c: 3, d: 3 &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> data = &#123; <span class="string">"a"</span>: <span class="number">1</span>, <span class="string">"b"</span>: <span class="number">2</span>, <span class="string">"c"</span>: <span class="number">3</span> &#125;</span><br><span class="line"><span class="keyword">let</span> newdata = &#123; ...data, <span class="string">"b"</span>: <span class="number">3</span> &#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(newdata)</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123; a: 1, b: 3, c: 3 &#125;</span><br></pre></td></tr></table></figure>
<h2 id="简写属性"><a href="#简写属性" class="headerlink" title="简写属性"></a>简写属性</h2><p>当对象的 K/V 是一致的，那么可以省略 V。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">100</span>;</span><br><span class="line"><span class="keyword">var</span> b = <span class="number">200</span>;</span><br><span class="line"><span class="keyword">var</span> c = <span class="number">300</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    a,</span><br><span class="line">    b,</span><br><span class="line">    c</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(obj);</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&#123; <span class="attr">a</span>: <span class="number">100</span>, <span class="attr">b</span>: <span class="number">200</span>, <span class="attr">c</span>: <span class="number">300</span> &#125;</span><br></pre></td></tr></table></figure>
<h2 id="用变量做键"><a href="#用变量做键" class="headerlink" title="用变量做键"></a>用变量做键</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="string">"name"</span>;</span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    [a]: <span class="string">"jinheng"</span>,</span><br><span class="line">    age: <span class="number">30</span>,</span><br><span class="line">    sex: <span class="string">"男"</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(obj);</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&#123; <span class="attr">name</span>: <span class="string">'jinheng'</span>, <span class="attr">age</span>: <span class="number">30</span>, <span class="attr">sex</span>: <span class="string">'男'</span> &#125;</span><br></pre></td></tr></table></figure>
<h2 id="合并对象"><a href="#合并对象" class="headerlink" title="合并对象"></a>合并对象</h2><p>合并两个对象，如果重复以后出现为准，合并是浅复制。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> obj1 = &#123;</span><br><span class="line">    name: <span class="string">"jinheng"</span>,</span><br><span class="line">    age: <span class="number">30</span>,</span><br><span class="line">    sex: <span class="string">"男"</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> obj2 = &#123;</span><br><span class="line">    addr: <span class="string">"shanxi"</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj3 = <span class="built_in">Object</span>.assign(obj1,obj2);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(obj3);</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&#123; <span class="attr">name</span>: <span class="string">'jinheng'</span>, <span class="attr">age</span>: <span class="number">30</span>, <span class="attr">sex</span>: <span class="string">'男'</span>, <span class="attr">addr</span>: <span class="string">'shanxi'</span> &#125;</span><br></pre></td></tr></table></figure>
<h2 id="in-运算符"><a href="#in-运算符" class="headerlink" title="in 运算符"></a>in 运算符</h2><p><code>for in</code> 这个循环，会把原型链上所有的<strong>可枚举的属性</strong>列出来，也就是不仅仅能够看到自己身上的属性，还有原型链上的所有属性。</p>
<blockquote>
<p>   Chrome 看到对象属性为灰色都是不可枚举的，例如：<code>constructor</code> 这个属性。</p>
</blockquote>
<ul>
<li>显示对象的所有属性</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span>(k <span class="keyword">in</span> obj)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(k);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="for…in-语句"><a href="#for…in-语句" class="headerlink" title="for…in 语句"></a>for…in 语句</h2><p>这个 <code>for...in</code> 语句循环一个指定的变量来循环一个对象所有可枚举的属性。<code>JavaScript</code> 会为每一个不同的属性执行指定的语句。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">for (variable in object) &#123;</span><br><span class="line">  statements</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="for…of-语句"><a href="#for…of-语句" class="headerlink" title="for…of 语句"></a>for…of 语句</h2><p><code>for...of</code> 语句在可迭代的对象上创建了一个循环(包括Array, Map, Set, 参数对象（ <code>arguments</code>） 等等)，对值的每一个独特的属性调用一个将被执行的自定义的和语句挂钩的迭代。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">for (variable of object) &#123;</span><br><span class="line">  statement</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>for in 和 for of 的区别</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>];</span><br><span class="line">arr.foo = <span class="string">"hello"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i <span class="keyword">in</span> arr) &#123;</span><br><span class="line">   <span class="built_in">console</span>.log(i); <span class="comment">// logs "0", "1", "2", "foo"</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i <span class="keyword">of</span> arr) &#123;</span><br><span class="line">   <span class="built_in">console</span>.log(i); <span class="comment">// logs "3", "5", "7" // 注意这里没有 hello</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="hansOwnpreperty-方法"><a href="#hansOwnpreperty-方法" class="headerlink" title="hansOwnpreperty 方法"></a>hansOwnpreperty 方法</h2><p>这个方法定义在 <code>Object.proto</code> 对象上面，所以任何一个 <code>Object</code> 都能够拥有这个方法，这个方法能够返回 <code>true</code>、<code>false</code>，表示自己是否拥有这个和属性。</p>
<ul>
<li>显示对象自身的属性</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span>(k <span class="keyword">in</span> obj)&#123;</span><br><span class="line">    obj.hasOwnProperty(k) &amp;&amp; <span class="built_in">console</span>.log(k);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="instanceof-实例验证"><a href="#instanceof-实例验证" class="headerlink" title="instanceof 实例验证"></a>instanceof 实例验证</h2><p>验证对象是否为一个构造函数的实例，如果对象有继承，那也是继承构造函数的实例。</p>
<p><code>instanceof</code> 运算符的机制是：遍历 <code>jinheng</code> 这个对象的原型链上的每个原型对象，如果遍历到的这个原型对象是某个构造函数的 <code>prototype</code> 就认为 <code>jinheng</code> 是这个构造函数的实例。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">People</span>(<span class="params">name, age, sex</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name,</span><br><span class="line">        <span class="keyword">this</span>.age = age,</span><br><span class="line">        <span class="keyword">this</span>.sex = sex</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Student</span>(<span class="params">name,age,sex,id,flag</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.constructor.apply(<span class="keyword">this</span>,<span class="built_in">arguments</span>),</span><br><span class="line">    <span class="keyword">this</span>.id = id,</span><br><span class="line">    <span class="keyword">this</span>.flag = flag</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Student.prototype = <span class="keyword">new</span> People();</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> jinheng = <span class="keyword">new</span> Student(<span class="string">"jinheng"</span>, <span class="number">20</span>, <span class="string">"男"</span>,<span class="number">2414126</span>,<span class="number">5</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(jinheng <span class="keyword">instanceof</span> Student);</span><br><span class="line"><span class="built_in">console</span>.log(jinheng <span class="keyword">instanceof</span> People);</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="literal">true</span></span><br><span class="line"><span class="literal">true</span></span><br></pre></td></tr></table></figure>
<h1 id="代码的组织"><a href="#代码的组织" class="headerlink" title="代码的组织"></a>代码的组织</h1><h2 id="外链JS注意"><a href="#外链JS注意" class="headerlink" title="外链JS注意"></a>外链JS注意</h2><p>外链 <code>jacascript</code> 代码，是一个组织 <code>JS</code> 非常好的方法。 </p>
<ul>
<li>执行顺序就是引包的先后顺序，所有的包都处于全局作用域</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;script type=<span class="string">"text/javascript"</span> src=<span class="string">"1.js"</span>&gt;&lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp">&lt;script type="text/</span>javascript<span class="string">" src="</span><span class="number">2.</span>js<span class="string">"&gt;&lt;/script&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>声明提升不再有效，下面语句会报错，因为顺序执行，但是是异步的，标签封闭就开始执行</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;script type=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line">    fun();</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">&lt;script type="text/</span>javascript<span class="string">"&gt;</span></span><br><span class="line"><span class="string">    function fun() &#123;</span></span><br><span class="line"><span class="string">        console.log("</span><span class="number">123</span><span class="string">");</span></span><br><span class="line"><span class="string">    &#125;   </span></span><br><span class="line"><span class="string">&lt;/script&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="HTML和JS组织"><a href="#HTML和JS组织" class="headerlink" title="HTML和JS组织"></a>HTML和JS组织</h2><p>在 HTML 中，JS 代码应该写在它要操作的元素后面，表示这个JS它要操作的元素，就是上面的元素。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"box1"</span>&gt;&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">&lt;script src="1.js"&gt;&lt;/</span>script&gt;</span><br><span class="line"></span><br><span class="line">&lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"box2"</span>&gt;&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">&lt;script src="2.js"&gt;&lt;/</span>script&gt;</span><br></pre></td></tr></table></figure>
<h2 id="命名惯例"><a href="#命名惯例" class="headerlink" title="命名惯例"></a>命名惯例</h2><ul>
<li>is_int</li>
</ul>
<p>在编程中以 is 开头的函数名字通常返回一个布尔值，通常用来测试是否为真</p>
<ul>
<li>obox</li>
</ul>
<p>在编程中以 o 开头的标识符通常表示一个对象</p>
<h2 id="模块化"><a href="#模块化" class="headerlink" title="模块化"></a>模块化</h2><p><code>export</code>、<code>import</code> 语法 </p>
<ul>
<li>新建第一个脚本 <code>obj.js</code>，暴漏三个对象</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> sum = <span class="function">(<span class="params">a, b</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> pingfang = <span class="function">(<span class="params">a</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> a * a;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> sancifang = <span class="function">(<span class="params">a</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> a * a * a;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> &#123; sum, pinggang, sancifang &#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>新建文件 <code>all.js</code>，导入这三个对象</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; sum, pingfang, sancifang &#125; <span class="keyword">from</span> <span class="string">"obj.js"</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(sum(<span class="number">3</span>,<span class="number">4</span>));</span><br><span class="line"><span class="built_in">console</span>.log(pingfang(<span class="number">4</span>));</span><br><span class="line"><span class="built_in">console</span>.log(sancifang(<span class="number">4</span>));</span><br></pre></td></tr></table></figure>
<h1 id="window-onload"><a href="#window-onload" class="headerlink" title="window.onload"></a>window.onload</h1><h2 id="Chrome-浏览器问题"><a href="#Chrome-浏览器问题" class="headerlink" title="Chrome 浏览器问题"></a>Chrome 浏览器问题</h2><p>Chrome 浏览器会将下面代码分为两次请求，第一次将HTML所有元素渲染，并执行 JS，第二次将所有图片下载，所以，下面代码无法获取被图片撑起的 <code>img</code> 元素的宽度。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;img src=<span class="string">"./images/tianye.jpg"</span> alt=<span class="string">""</span>&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="keyword">var</span> img = <span class="built_in">document</span>.getElementsByTagName(<span class="string">"img"</span>)[<span class="number">0</span>];</span><br><span class="line">    alert(img.clientWidth);</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>用 <code>window.onload</code> 解决 <code>Chrome</code> 加载问题</li>
</ul>
<p><code>window.onload</code> 这个属性作用是当页面中的所有元素加载完毕之后（包括 <code>img</code> 图片）触发这个 <code>window.onload</code> 事件执行回调函数。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;img src=<span class="string">"./images/tianye.jpg"</span> alt=<span class="string">""</span>&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">var</span> img = <span class="built_in">document</span>.getElementsByTagName(<span class="string">"img"</span>)[<span class="number">0</span>];</span><br><span class="line">        alert(img.clientWidth);</span><br><span class="line">    &#125;</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="使用时机"><a href="#使用时机" class="headerlink" title="使用时机"></a>使用时机</h2><p><code>window.onload</code> 在工作中是不允许使用的，因为这个会把你的 JS 提前，与自己的 HTML 结构提，所以还是应该一个 HTML 结构，一个JS 文件，这样写。</p>
<p>但是  <code>window.onload</code> 在应对：<strong>表单验证事件</strong>、<strong>oncroll事件</strong>，时候，有非常大的作用。</p>
<h2 id="表单验证事件问题"><a href="#表单验证事件问题" class="headerlink" title="表单验证事件问题"></a>表单验证事件问题</h2><p><code>onsubmit</code> 事件发生在单试图提交的那个瞬间，事件执行的回调函数表应该返回 <code>true</code>、<code>false</code>，决定表单是否被提交。</p>
<ul>
<li><code>onsubmit</code> 事件不能写在 <code>js</code> 文件然后引入的，所以需要写在 <code>window.onload</code> 里面</li>
</ul>
<p>如果 <code>onsubmit</code> 事件 <code>js</code> 文件里，然后引入 HTML，如果用户网速特别慢，HTML 页面已经加载完了，用户也填写完了表单，此时 <code>js</code> 仍然没有被加载，浏览器不知道这个表单绑定了一个事件，这时候用户有可能往浏览器提交非法数据。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> <span class="keyword">from</span> = <span class="built_in">document</span>.getElementById(<span class="string">"form"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 当表单提交的时候</span></span><br><span class="line">        form.onsubmit = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            alert(<span class="string">"如果这个函数返回 false 那么表单将不能被提交"</span>);</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">&lt;form action="1.php" id="form"&gt;</span></span><br><span class="line"><span class="regexp">    &lt;p&gt;&lt;input type="text" /</span>&gt;&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">    &lt;p&gt;&lt;input type="text" /</span>&gt;&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">    &lt;p&gt;&lt;input type="submit" /</span>&gt;&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>form&gt;</span><br></pre></td></tr></table></figure>
<p>表单提交非常的“刚性”，事关网站的安全，所以一定要写在 <code>window.onload</code> 里面，不要单独写在 <code>js</code> 文件，不要写在 HTML 结构的后面。让浏览器第一时间知道 <code>form</code> 有个 <code>onsubmit</code> 事件。</p>
<h2 id="滚轮事件问题"><a href="#滚轮事件问题" class="headerlink" title="滚轮事件问题"></a>滚轮事件问题</h2><p>浏览器必须第一时间知道这个页面滚动条是有事件的，如果 <code>HTML</code> 页面加载完毕，但是 <code>js</code> 代码没有执行，此时用户很可能已经滚动了鼠标。</p>
<h2 id="DOM0和DOM2"><a href="#DOM0和DOM2" class="headerlink" title="DOM0和DOM2"></a>DOM0和DOM2</h2><p>之前说过，DOM0级添加的事件，不能出现同名的</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">oDiv.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;</span><br><span class="line">oDiv.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;</span><br></pre></td></tr></table></figure>
<p>上面同名的情况以后出现的为准，所以页面上只能有一个 <code>window.onload</code>。</p>
<p>但是，如果使用 DOM2 级</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">window</span>.addEventListener(<span class="string">"load"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;,<span class="literal">false</span>);</span><br><span class="line"><span class="built_in">window</span>.addEventListener(<span class="string">"load"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;,<span class="literal">false</span>);</span><br></pre></td></tr></table></figure>
<p>就能够添加多个 <code>window.onload</code>  事件的处理函数。依次执行（<code>attachEvent</code>里面是反着的）</p>
<h2 id="外链-JS-文件策略"><a href="#外链-JS-文件策略" class="headerlink" title="外链 JS 文件策略"></a>外链 JS 文件策略</h2><p>由于外链的 JS 文件处于全局作用域，所以如果将 JS 变量都直接写在 JS 文件里，都处于 window 对象的属性中了，就容易出现标识符的冲突。</p>
<p>必须把 JS 里的所有语句都放在函数里，有三种方法：</p>
<ol>
<li>将 JS 代码写在 IIFE 中，也就是自执行函数中，这样不会污染全局作用域。</li>
</ol>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">	&lt;div&gt;&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">	&lt;script&gt;</span></span><br><span class="line"><span class="regexp">		(function () &#123;</span></span><br><span class="line"><span class="regexp">			var test1 = 10;</span></span><br><span class="line"><span class="regexp">			var test2 = 10;</span></span><br><span class="line"><span class="regexp">			var box = document.getElementsByTagName("div")[0];</span></span><br><span class="line"><span class="regexp">			box.style.backgroundColor = "red";</span></span><br><span class="line"><span class="regexp">			var timer = setInterval(function () &#123;</span></span><br><span class="line"><span class="regexp">				test1++;</span></span><br><span class="line"><span class="regexp">				test2++;</span></span><br><span class="line"><span class="regexp">				box.style.width = test1 + "px";</span></span><br><span class="line"><span class="regexp">				box.style.height = test2 + "px";</span></span><br><span class="line"><span class="regexp">				if (test1 &gt; 500) &#123;</span></span><br><span class="line"><span class="regexp">					clearInterval(timer);</span></span><br><span class="line"><span class="regexp">				&#125;</span></span><br><span class="line"><span class="regexp">			&#125;, 100)</span></span><br><span class="line"><span class="regexp">		&#125;)();	</span></span><br><span class="line"><span class="regexp">	&lt;/</span>script&gt;</span><br><span class="line">&lt;<span class="regexp">/body&gt;</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>  这样做的缺点是，当函数需要复用的时候，就必须引包两次。</p>
</blockquote>
<ol start="2">
<li>将 JS 代码写在函数内，隔离了作用域不会污染全局作用域，并且可以通过传参的方式复用函数，同样不会污染全局变量</li>
</ol>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">	&lt;div id=<span class="string">"box1"</span>&gt;&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">	&lt;div id="box2"&gt;&lt;/</span>div&gt;</span><br><span class="line">	&lt;script&gt;</span><br><span class="line">		<span class="function"><span class="keyword">function</span> <span class="title">big</span>(<span class="params">tag</span>) </span>&#123;</span><br><span class="line">			<span class="keyword">var</span> box = <span class="built_in">document</span>.getElementById(tag);</span><br><span class="line">			box.style.backgroundColor = <span class="string">"red"</span>;</span><br><span class="line">			box.style.margin = <span class="string">"10px 10px"</span>;</span><br><span class="line">			<span class="keyword">var</span> test1 = <span class="number">10</span>;</span><br><span class="line">			<span class="keyword">var</span> test2 = <span class="number">10</span>;</span><br><span class="line">			<span class="keyword">var</span> timer = setInterval(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">				test1++;</span><br><span class="line">				test2++;</span><br><span class="line">				box.style.width = test1 + <span class="string">"px"</span>;</span><br><span class="line">				box.style.height = test2 + <span class="string">"px"</span>;</span><br><span class="line">				<span class="keyword">if</span> (test1 &gt; <span class="number">500</span>) &#123;</span><br><span class="line">					clearInterval(timer);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;, <span class="number">100</span>)</span><br><span class="line">		&#125;;</span><br><span class="line">		big(<span class="string">"box1"</span>);</span><br><span class="line">		big(<span class="string">"box2"</span>);</span><br><span class="line">	&lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>body&gt;</span><br></pre></td></tr></table></figure>
<h1 id="Ajax请求"><a href="#Ajax请求" class="headerlink" title="Ajax请求"></a>Ajax请求</h1><h2 id="fatch"><a href="#fatch" class="headerlink" title="fatch"></a>fatch</h2><p>fatch 是一种异步操作，它是一个 promise 对象，它需要两次 then ，第一次是头返回得到 status，第二次是数据返回。</p>
<h3 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h3><figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line">fetch(input[, init])</span><br></pre></td></tr></table></figure>
<h3 id="参数"><a href="#参数" class="headerlink" title="参数"></a>参数</h3><ul>
<li>input，定义要获取的资源，可以是下面任意一个：</li>
</ul>
<table>
<thead>
<tr>
<th>资源</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td>String</td>
<td>一个 USVString 字符串，包含要获取资源的 URL。一些浏览器会接受 blob: 和 data: 作为 schemes.</td>
</tr>
<tr>
<td>Object</td>
<td>一个 Request 对象。</td>
</tr>
</tbody>
</table>
<ul>
<li>init，一个配置项对象，包括所有对请求的设置。可选的参数有：</li>
</ul>
<table>
<thead>
<tr>
<th>init</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>method</td>
<td>请求使用的方法，如 GET、POST。</td>
</tr>
<tr>
<td>headers</td>
<td>请求的头信息，形式为 Headers 的对象或包含 ByteString 值的对象字面量。</td>
</tr>
<tr>
<td>body</td>
<td>请求的 body 信息：可能是一个 Blob、BufferSource、FormData、URLSearchParams 或者 USVString 对象。注意 GET 或 HEAD 方法的请求不能包含 body 信息。</td>
</tr>
<tr>
<td>mode</td>
<td>请求的模式，如 cors、 no-cors 或者 same-origin。</td>
</tr>
<tr>
<td>credentials</td>
<td>请求的 credentials，如 omit、same-origin 或者 include。为了在当前域名内自动发送 cookie ， 必须提供这个选项， 从 Chrome 50 开始， 这个属性也可以接受 FederatedCredential 实例或是一个 PasswordCredential 实例。</td>
</tr>
<tr>
<td>cache</td>
<td>请求的 cache 模式: default 、 no-store 、 reload 、 no-cache 、 force-cache 或者 only-if-cached 。</td>
</tr>
<tr>
<td>redirect</td>
<td>可用的 redirect 模式: follow (自动重定向), error (如果产生重定向将自动终止并且抛出一个错误), 或者 manual (手动处理重定向). 在Chrome中，Chrome 47之前的默认值是 follow，从 Chrome 47开始是 manual。</td>
</tr>
<tr>
<td>referrer</td>
<td>一个 USVString 可以是 no-referrer、client或一个 URL。默认是 client。</td>
</tr>
<tr>
<td>referrerPolicy</td>
<td>Specifies the value of the referer HTTP header. May be one of no-referrer、 no-referrer-when-downgrade、 origin、 origin-when-cross-origin、 unsafe-url 。</td>
</tr>
<tr>
<td>integrity</td>
<td>包括请求的  subresource integrity 值 （ 例如： sha256-BpfBw7ivV8q2jLiT13fxDYAe2tJllusRSZ273h2nFSE=）。</td>
</tr>
</tbody>
</table>
<h3 id="Response-对象"><a href="#Response-对象" class="headerlink" title="Response 对象"></a>Response 对象</h3><table>
<thead>
<tr>
<th>属性</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>Response.status</td>
<td>整数(默认值为200) 为response的状态码.</td>
</tr>
<tr>
<td>Response.statusText</td>
<td>字符串(默认值为”OK”),该值与HTTP状态码消息对应.</td>
</tr>
<tr>
<td>Response.ok</td>
<td>如上所示, 该属性是来检查 response 的状态是否在200-299(包括200,299)这个范围内.该属性返回一个Boolean值.</td>
</tr>
</tbody>
</table>
<h3 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h3><ul>
<li>发送一个 Ajax 请求，如果请求成功则转换为 json 如果失败则打印错误原因</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">fetch(<span class="string">'http://localhost:9000/student'</span>).then(</span><br><span class="line">    <span class="function"><span class="keyword">function</span> (<span class="params">response</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (response.ok) &#123;</span><br><span class="line">            <span class="keyword">return</span> response.json();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'Network response was not ok.'</span>);</span><br><span class="line">    &#125;).then(<span class="function"><span class="keyword">function</span> (<span class="params">myJson</span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(myJson);</span><br><span class="line">    &#125;).catch(<span class="function"><span class="keyword">function</span> (<span class="params">error</span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'There has been a problem with your fetch operation: '</span>, error.message);</span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure>
<ul>
<li>上传 Json 数据</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> url = <span class="string">'https://example.com/profile'</span>;</span><br><span class="line"><span class="keyword">var</span> data = &#123;<span class="attr">username</span>: <span class="string">'example'</span>&#125;;</span><br><span class="line"></span><br><span class="line">fetch(url, &#123;</span><br><span class="line">  method: <span class="string">'POST'</span>,</span><br><span class="line">  body: <span class="built_in">JSON</span>.stringify(data),</span><br><span class="line">  headers: <span class="keyword">new</span> Headers(&#123;</span><br><span class="line">    <span class="string">'Content-Type'</span>: <span class="string">'application/json'</span></span><br><span class="line">  &#125;)</span><br><span class="line">&#125;).then(<span class="function"><span class="params">res</span> =&gt;</span> res.json())</span><br><span class="line">.catch(<span class="function"><span class="params">error</span> =&gt;</span> <span class="built_in">console</span>.error(<span class="string">'Error:'</span>, error))</span><br><span class="line">.then(<span class="function"><span class="params">response</span> =&gt;</span> <span class="built_in">console</span>.log(<span class="string">'Success:'</span>, response));</span><br></pre></td></tr></table></figure>
<ul>
<li>创建请求对象</li>
</ul>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">var myHeaders = new Headers();</span><br><span class="line"></span><br><span class="line">var myInit = &#123; method: 'GET', headers: myHeaders, mode: 'cors', cache: 'default' &#125;;</span><br><span class="line"></span><br><span class="line">var myRequest = new Request('flowers.jpg', myInit);</span><br><span class="line"></span><br><span class="line">fetch(myRequest).then(function(response) &#123;</span><br><span class="line">  return response.blob();</span><br><span class="line">&#125;).then(function(myBlob) &#123;</span><br><span class="line">  var objectURL = URL.createObjectURL(myBlob);</span><br><span class="line">  myImage.src = objectURL;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<ul>
<li>定义 headers 请求头信息</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> content = <span class="string">"Hello World"</span>;</span><br><span class="line"><span class="keyword">var</span> myHeaders = <span class="keyword">new</span> Headers();</span><br><span class="line">myHeaders.append(<span class="string">"Content-Type"</span>, <span class="string">"text/plain"</span>);</span><br><span class="line">myHeaders.append(<span class="string">"Content-Length"</span>, content.length.toString());</span><br><span class="line">myHeaders.append(<span class="string">"X-Custom-Header"</span>, <span class="string">"ProcessThisImmediately"</span>);</span><br><span class="line"></span><br><span class="line">或者</span><br><span class="line"></span><br><span class="line">myHeaders = <span class="keyword">new</span> Headers(&#123;</span><br><span class="line">  <span class="string">"Content-Type"</span>: <span class="string">"text/plain"</span>,</span><br><span class="line">  <span class="string">"Content-Length"</span>: content.length.toString(),</span><br><span class="line">  <span class="string">"X-Custom-Header"</span>: <span class="string">"ProcessThisImmediately"</span>,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2017/10/09/python/30.模块和打包/" rel="next" title="Python模块和打包机制">
                <i class="fa fa-chevron-left"></i> Python模块和打包机制
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2018/01/10/Linux/minio/" rel="prev" title="minio 对象存储">
                minio 对象存储 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/avatar.jpg" alt="Jin Heng">
            
              <p class="site-author-name" itemprop="name">Jin Heng</p>
              <p class="site-description motion-element" itemprop="description">越努力越幸运</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives">
              
                  <span class="site-state-item-count">86</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">6</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/yangjinheng" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:jinhengyang@foxmail.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
            </div>
          

          
          

          
          

          
        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#变量"><span class="nav-number">1.</span> <span class="nav-text">变量</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#声明提升"><span class="nav-number">1.1.</span> <span class="nav-text">声明提升</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#解构"><span class="nav-number">1.2.</span> <span class="nav-text">解构</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#小题目"><span class="nav-number">1.3.</span> <span class="nav-text">小题目</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#作用域"><span class="nav-number">2.</span> <span class="nav-text">作用域</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#全局作用域"><span class="nav-number">2.1.</span> <span class="nav-text">全局作用域</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#局部作用域"><span class="nav-number">2.2.</span> <span class="nav-text">局部作用域</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#块级作用域"><span class="nav-number">2.3.</span> <span class="nav-text">块级作用域</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#非声明的变量"><span class="nav-number">2.4.</span> <span class="nav-text">非声明的变量</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#for-循环作用域"><span class="nav-number">2.5.</span> <span class="nav-text">for 循环作用域</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#异常与处理"><span class="nav-number">3.</span> <span class="nav-text">异常与处理</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#抛出异常"><span class="nav-number">3.1.</span> <span class="nav-text">抛出异常</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#尝试处理"><span class="nav-number">3.2.</span> <span class="nav-text">尝试处理</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#数据类型"><span class="nav-number">4.</span> <span class="nav-text">数据类型</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#概述"><span class="nav-number">4.1.</span> <span class="nav-text">概述</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#布尔值"><span class="nav-number">4.2.</span> <span class="nav-text">布尔值</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#数字"><span class="nav-number">4.3.</span> <span class="nav-text">数字</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#数字常量"><span class="nav-number">4.3.1.</span> <span class="nav-text">数字常量</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#类型转换"><span class="nav-number">4.3.2.</span> <span class="nav-text">类型转换</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#数字类方法"><span class="nav-number">4.3.3.</span> <span class="nav-text">数字类方法</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#时间日期"><span class="nav-number">4.4.</span> <span class="nav-text">时间日期</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#时间日期方法"><span class="nav-number">4.4.1.</span> <span class="nav-text">时间日期方法</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#函数对象"><span class="nav-number">4.5.</span> <span class="nav-text">函数对象</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#封装和结构"><span class="nav-number">4.5.1.</span> <span class="nav-text">封装和结构</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#函数对象方法"><span class="nav-number">4.5.2.</span> <span class="nav-text">函数对象方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#箭头函数"><span class="nav-number">4.5.3.</span> <span class="nav-text">箭头函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#生成器函数"><span class="nav-number">4.5.4.</span> <span class="nav-text">生成器函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#call方法"><span class="nav-number">4.5.5.</span> <span class="nav-text">call方法</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#字符串对象"><span class="nav-number">4.6.</span> <span class="nav-text">字符串对象</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#字符串方法"><span class="nav-number">4.6.1.</span> <span class="nav-text">字符串方法</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#set"><span class="nav-number">4.7.</span> <span class="nav-text">set</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#map"><span class="nav-number">4.8.</span> <span class="nav-text">map</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#函数"><span class="nav-number">5.</span> <span class="nav-text">函数</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#普通函数"><span class="nav-number">5.1.</span> <span class="nav-text">普通函数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#函数表达式"><span class="nav-number">5.2.</span> <span class="nav-text">函数表达式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#嵌套遮蔽效应"><span class="nav-number">5.3.</span> <span class="nav-text">嵌套遮蔽效应</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#斐波那契数列"><span class="nav-number">5.4.</span> <span class="nav-text">斐波那契数列</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#闭包和性质"><span class="nav-number">5.5.</span> <span class="nav-text">闭包和性质</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#call-和-apply"><span class="nav-number">5.6.</span> <span class="nav-text">call 和 apply</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#bind"><span class="nav-number">5.7.</span> <span class="nav-text">bind</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#箭头函数-1"><span class="nav-number">5.8.</span> <span class="nav-text">箭头函数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Promise"><span class="nav-number">5.9.</span> <span class="nav-text">Promise</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#内置函数"><span class="nav-number">6.</span> <span class="nav-text">内置函数</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#数学函数"><span class="nav-number">6.1.</span> <span class="nav-text">数学函数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#内置函数-1"><span class="nav-number">6.2.</span> <span class="nav-text">内置函数</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#数组"><span class="nav-number">7.</span> <span class="nav-text">数组</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#稀疏特性"><span class="nav-number">7.1.</span> <span class="nav-text">稀疏特性</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#数组是对象"><span class="nav-number">7.2.</span> <span class="nav-text">数组是对象</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#数组是引用类型"><span class="nav-number">7.3.</span> <span class="nav-text">数组是引用类型</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#数组推导式"><span class="nav-number">7.4.</span> <span class="nav-text">数组推导式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#数组的遍历"><span class="nav-number">7.5.</span> <span class="nav-text">数组的遍历</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#length-长度"><span class="nav-number">7.6.</span> <span class="nav-text">length 长度</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#push-尾部追加"><span class="nav-number">7.7.</span> <span class="nav-text">push 尾部追加</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#pop-删除尾部"><span class="nav-number">7.8.</span> <span class="nav-text">pop 删除尾部</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#unshift-头部插入"><span class="nav-number">7.9.</span> <span class="nav-text">unshift 头部插入</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#shift-删除头部"><span class="nav-number">7.10.</span> <span class="nav-text">shift 删除头部</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#右移算法"><span class="nav-number">7.11.</span> <span class="nav-text">右移算法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#concat-连接数组"><span class="nav-number">7.12.</span> <span class="nav-text">concat 连接数组</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#slice-数组切片"><span class="nav-number">7.13.</span> <span class="nav-text">slice 数组切片</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#splice-插入删除替换"><span class="nav-number">7.14.</span> <span class="nav-text">splice 插入删除替换</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#reverse-顺序反转"><span class="nav-number">7.15.</span> <span class="nav-text">reverse 顺序反转</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#sort-排序"><span class="nav-number">7.16.</span> <span class="nav-text">sort 排序</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#join-拼接字符串"><span class="nav-number">7.17.</span> <span class="nav-text">join 拼接字符串</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#indexOf-正向查找"><span class="nav-number">7.18.</span> <span class="nav-text">indexOf 正向查找</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#lastIndexOf-反向查找"><span class="nav-number">7.19.</span> <span class="nav-text">lastIndexOf 反向查找</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#forEach-遍历并处理"><span class="nav-number">7.20.</span> <span class="nav-text">forEach 遍历并处理</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#map-映射新数组"><span class="nav-number">7.21.</span> <span class="nav-text">map 映射新数组</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#filter-过滤产生新数组"><span class="nav-number">7.22.</span> <span class="nav-text">filter 过滤产生新数组</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#reduce累加器"><span class="nav-number">7.23.</span> <span class="nav-text">reduce累加器</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#every-严格检查数组"><span class="nav-number">7.24.</span> <span class="nav-text">every 严格检查数组</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#some-宽松检查"><span class="nav-number">7.25.</span> <span class="nav-text">some 宽松检查</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#of-方法"><span class="nav-number">7.26.</span> <span class="nav-text">of 方法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Array-find-查找"><span class="nav-number">7.27.</span> <span class="nav-text">Array.find 查找</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Array-includes"><span class="nav-number">7.28.</span> <span class="nav-text">Array.includes</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#正则表达式"><span class="nav-number">8.</span> <span class="nav-text">正则表达式</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#匹配方法"><span class="nav-number">8.1.</span> <span class="nav-text">匹配方法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#新建对象"><span class="nav-number">8.2.</span> <span class="nav-text">新建对象</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#内置方法"><span class="nav-number">8.3.</span> <span class="nav-text">内置方法</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#面向对象"><span class="nav-number">9.</span> <span class="nav-text">面向对象</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#对象基本概念"><span class="nav-number">9.1.</span> <span class="nav-text">对象基本概念</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#字面量创建"><span class="nav-number">9.1.1.</span> <span class="nav-text">字面量创建</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#对象的访问"><span class="nav-number">9.1.2.</span> <span class="nav-text">对象的访问</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#对象属性值"><span class="nav-number">9.1.3.</span> <span class="nav-text">对象属性值</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#对象的方法"><span class="nav-number">9.1.4.</span> <span class="nav-text">对象的方法</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#对象构造函数"><span class="nav-number">9.2.</span> <span class="nav-text">对象构造函数</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#new-的过程"><span class="nav-number">9.2.1.</span> <span class="nav-text">new 的过程</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#this-上下文总结"><span class="nav-number">9.2.2.</span> <span class="nav-text">this 上下文总结</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#原型与原型链"><span class="nav-number">9.3.</span> <span class="nav-text">原型与原型链</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#什么是原型"><span class="nav-number">9.3.1.</span> <span class="nav-text">什么是原型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#原型的用途"><span class="nav-number">9.3.2.</span> <span class="nav-text">原型的用途</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#原型链机制"><span class="nav-number">9.3.3.</span> <span class="nav-text">原型链机制</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#面向对象用途"><span class="nav-number">9.4.</span> <span class="nav-text">面向对象用途</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#继承"><span class="nav-number">9.5.</span> <span class="nav-text">继承</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#class-语法糖"><span class="nav-number">9.6.</span> <span class="nav-text">class 语法糖</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#…-语法"><span class="nav-number">9.7.</span> <span class="nav-text">… 语法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#简写属性"><span class="nav-number">9.8.</span> <span class="nav-text">简写属性</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#用变量做键"><span class="nav-number">9.9.</span> <span class="nav-text">用变量做键</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#合并对象"><span class="nav-number">9.10.</span> <span class="nav-text">合并对象</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#in-运算符"><span class="nav-number">9.11.</span> <span class="nav-text">in 运算符</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#for…in-语句"><span class="nav-number">9.12.</span> <span class="nav-text">for…in 语句</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#for…of-语句"><span class="nav-number">9.13.</span> <span class="nav-text">for…of 语句</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#hansOwnpreperty-方法"><span class="nav-number">9.14.</span> <span class="nav-text">hansOwnpreperty 方法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#instanceof-实例验证"><span class="nav-number">9.15.</span> <span class="nav-text">instanceof 实例验证</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#代码的组织"><span class="nav-number">10.</span> <span class="nav-text">代码的组织</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#外链JS注意"><span class="nav-number">10.1.</span> <span class="nav-text">外链JS注意</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#HTML和JS组织"><span class="nav-number">10.2.</span> <span class="nav-text">HTML和JS组织</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#命名惯例"><span class="nav-number">10.3.</span> <span class="nav-text">命名惯例</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#模块化"><span class="nav-number">10.4.</span> <span class="nav-text">模块化</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#window-onload"><span class="nav-number">11.</span> <span class="nav-text">window.onload</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Chrome-浏览器问题"><span class="nav-number">11.1.</span> <span class="nav-text">Chrome 浏览器问题</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#使用时机"><span class="nav-number">11.2.</span> <span class="nav-text">使用时机</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#表单验证事件问题"><span class="nav-number">11.3.</span> <span class="nav-text">表单验证事件问题</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#滚轮事件问题"><span class="nav-number">11.4.</span> <span class="nav-text">滚轮事件问题</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#DOM0和DOM2"><span class="nav-number">11.5.</span> <span class="nav-text">DOM0和DOM2</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#外链-JS-文件策略"><span class="nav-number">11.6.</span> <span class="nav-text">外链 JS 文件策略</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Ajax请求"><span class="nav-number">12.</span> <span class="nav-text">Ajax请求</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#fatch"><span class="nav-number">12.1.</span> <span class="nav-text">fatch</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#语法"><span class="nav-number">12.1.1.</span> <span class="nav-text">语法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#参数"><span class="nav-number">12.1.2.</span> <span class="nav-text">参数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Response-对象"><span class="nav-number">12.1.3.</span> <span class="nav-text">Response 对象</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#示例"><span class="nav-number">12.1.4.</span> <span class="nav-text">示例</span></a></li></ol></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; 2017 &mdash; <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Jin Heng</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  













  





  

  

  

  
  

  

  

  

</body>
</html>
